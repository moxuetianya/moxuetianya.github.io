<!doctype html>
<html class="not-ready lg:text-base overflow-y-scroll scroll-pt-14" lang="en">

<head prefix="og: https://ogp.me/ns# article: https://ogp.me/ns/article#">
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="generator" content="Zola" />
  <title>linux 打印机的使用</title>
  <meta property="og:title" content="linux 打印机的使用" />
  <meta property="og:url" content="https://blog.moxuetianya.com/2025/12/linux 打印机的使用/" />
  <link rel="canonical" href="https://blog.moxuetianya.com/2025/12/linux 打印机的使用/" />
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2025-12-22T13:55:04+08:00" />
  <meta property="article:tag" content="printer" />
  <!-- Begin Head inject -->
  
  <!-- End Head inject -->
  <link rel="stylesheet" href="https://blog.moxuetianya.com/main.min.css?h=fc65ba308cf36d3ba82c" />
  <style>
  :root{--bg: #f4f4f5; --header: #e4e4e7; color-scheme: light;}
  :root.dark{--bg: #18181b; --header: #27272a; color-scheme: dark;}
  </style>
  <meta name="theme-color" data-light="#e4e4e7" data-dark="#27272a" content="#e4e4e7" />
  <link rel="icon" type="image/x-icon" sizes="16x16" href="https://blog.moxuetianya.com/favicon.ico" />
  <link rel="apple-touch-icon" type="image/png" href="https://blog.moxuetianya.com/apple-touch-icon.png?h=58bee300054c5308feb3" />
  <link rel="icon" type="image/png" href="https://blog.moxuetianya.com/android-icon.png?h=8d80ec95446bd2c36826" />
  <script src="https://blog.moxuetianya.com/js/linkita.min.js?h=1dd3ed42fc674277bc34"></script>
  <script src="https://blog.moxuetianya.com/js/linkita-search.min.js?h=698547b4b081d012c661"></script>
  <!-- Begin Head End inject -->
  
  <!-- End Head End inject -->
</head>

<body class="text-black duration-100 ease-out bg-[var(--bg)] dark:text-white">
  <!-- Header -->
<header class="bg-[var(--header)] fixed top-0 z-40 mx-auto min-h-[3.25rem] w-full header-icons">
  <div class="mx-auto w-full max-w-4xl p-2.5 lg:flex lg:justify-between">
    <div class="flex justify-between">
      <div class="flex items-center min-h-8">
        <button type="button" title="Go to home page" accesskey="!"
          onclick="window.location.href='https://blog.moxuetianya.com/';"
          class="btn-home h-6 w-6 shrink-0 cursor-pointer text-[0] bg-center bg-no-repeat bg-cover [background-image:var(--icon-home)] dark:invert"
        ></button>
        <button type="button" title="Switch color scheme" accesskey="$"
          onclick="window.linkita.toggleDarkMode();" ondblclick="window.linkita.resetDarkMode();"
          class="btn-dark ml-4 h-6 w-6 shrink-0 cursor-pointer text-[0] bg-center bg-no-repeat bg-cover dark:invert [background-image:var(--icon-theme-dark)] dark:[background-image:var(--icon-theme-light)]"
        ></button>
        <button type="button" title="Search" accesskey="/"
          onclick="window.linkita.toggleSearch();"
          class="btn-search ml-4 h-6 w-6 shrink-0 cursor-pointer text-[0] bg-center bg-no-repeat bg-cover [background-image:var(--icon-search)] dark:invert"
        ></button>
        <script>window.linkita.initSearchButton({ scripts: ["https://blog.moxuetianya.com/elasticlunr.min.js", "https://blog.moxuetianya.com/search_index.en.js"] });</script>
      </div>
    </div>
  </div>
</header>

  <!-- Begin Body Start inject -->
  
  <!-- End Body Start inject -->
  <main class="prose prose-neutral relative mx-auto min-h-[calc(100%-4rem)]
    max-w-3xl break-words px-4 pb-12 pt-28 lg:pt-32 dark:prose-invert prose-pre:rounded-lg prose-img:rounded-lg">
      <!-- Search -->
<div id="linkita-search-wrapper" class="hidden">
  <ul id="linkita-search-results"></ul>
</div>

    
<article>
  <!-- Begin Page Start inject -->
  
  <!-- End Page Start inject -->

  <header class="mb-16">
    <h1 class="!my-0 pb-2.5">linux 打印机的使用</h1>
    <!-- Page Info -->
<div class="text-sm antialiased opacity-80"><time
      datetime="2025-12-22T13:55:04+08:00">2025-12-22</time><span
        class="mx-1">&middot;</span><time
    datetime="PT0H2M0S">2&nbsp;min</time>
</div>

  </header>
  <!-- TOC -->
<div class="block-bg mb-12 rounded-lg p-2 text-lg">
  <details>
    <summary class="select-none py-0.5 lg:py-1 pl-4" accesskey="=">
      <span class="cursor-pointer">Table of Contents</span>
    </summary>
    <div class="px-2">
      <ul>
        <li>
          <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/12/linux 打印机的使用/#pei-zhi-yang-li">配置样例</a>
        </li>
        <li>
          <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/12/linux 打印机的使用/#chang-yong-gong-ju-gong-neng">常用工具功能</a>
          <ul>
            <li>
              <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/12/linux 打印机的使用/#chang-yong-ming-ling-xing">常用命令行</a>
            </li>
            <li>
              <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/12/linux 打印机的使用/#shou-dong-ce-shi-da-yin-rao-guo-cups-dui-lie">手动测试打印（绕过 CUPS 队列）</a>
            </li>
            <li>
              <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/12/linux 打印机的使用/#guan-bi-cups-browsed">关闭cups-browsed</a>
            </li>
          </ul>
        </li>
        <li>
          <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/12/linux 打印机的使用/#ming-ling-xing-shi-yong-da-yin-ji">命令行使用打印机</a>
          <ul>
            <li>
              <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/12/linux 打印机的使用/#tian-jia-da-yin-ji">添加打印机</a>
            </li>
            <li>
              <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/12/linux 打印机的使用/#pei-zhi-da-yin-ji">配置打印机</a>
            </li>
            <li>
              <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/12/linux 打印机的使用/#ji-ben-da-yin">基本打印</a>
            </li>
            <li>
              <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/12/linux 打印机的使用/#da-yin-dui-lie-guan-li">打印队列管理</a>
            </li>
          </ul>
        </li>
        <li>
          <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/12/linux 打印机的使用/#gao-ji-pei-zhi">高级配置</a>
          <ul>
            <li>
              <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/12/linux 打印机的使用/#qu-dong-fang-an-dui-bi-ji-yu-ni-de-cmd-lie-biao">驱动方案对比（基于你的 CMD 列表）</a>
            </li>
            <li>
              <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/12/linux 打印机的使用/#white-check-mark-wei-shen-me-hpcups-geng-you">✅ 为什么 hpcups 更优？</a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </details>
</div>

  <!-- Content -->
  <section><h1 id="pei-zhi-yang-li">配置样例</h1>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">ippfind
</span><span style="color:#bf616a;">avahi-resolve -n</span><span> EPSON4DDFDF.local
</span><span style="color:#bf616a;">getent</span><span> hosts EPSON4DDFDF.local
</span><span>
</span><span style="color:#bf616a;">ipptool -tv</span><span> ipp://EPSON4DDFDF.local:631/ipp/print /usr/share/cups/ipptool/get-printer-attributes.test | </span><span style="color:#bf616a;">grep -i</span><span> device-id</span><span style="color:#bf616a;"> -C3
</span><span>
</span><span style="color:#65737e;"># 无驱动安装打印机（最简单、最稳定）
</span><span style="color:#bf616a;">lpip</span><span>=</span><span style="color:#a3be8c;">192.168.4.143  </span><span style="color:#65737e;"># ← 替换为你的打印机 IP
</span><span style="color:#bf616a;">sudo</span><span> lpadmin</span><span style="color:#bf616a;"> -p</span><span> Epson_L4160_Driverless \
</span><span style="color:#bf616a;">  -E </span><span>\
</span><span style="color:#bf616a;">  -v </span><span>&quot;</span><span style="color:#a3be8c;">ipp://</span><span>$</span><span style="color:#bf616a;">lpip</span><span style="color:#a3be8c;">:631/ipp/print</span><span>&quot; \
</span><span style="color:#bf616a;">  -m</span><span> everywhere
</span><span>
</span><span style="color:#bf616a;">lpip</span><span>=</span><span style="color:#a3be8c;">192.168.4.143  </span><span style="color:#65737e;"># ← 替换为你的打印机 IP
</span><span style="color:#bf616a;">sudo</span><span> apt update &amp;&amp; </span><span style="color:#bf616a;">sudo</span><span> apt install printer-driver-escpr
</span><span style="color:#bf616a;">lpinfo -m </span><span>| </span><span style="color:#bf616a;">grep -i </span><span>&quot;</span><span style="color:#a3be8c;">L4160</span><span>&quot;
</span><span style="color:#bf616a;">sudo</span><span> lpadmin</span><span style="color:#bf616a;"> -p</span><span> Epson_L4160_Full \
</span><span style="color:#bf616a;">  -E </span><span>\
</span><span style="color:#bf616a;">  -v </span><span>&quot;</span><span style="color:#a3be8c;">ipp://</span><span>$</span><span style="color:#bf616a;">lpip</span><span style="color:#a3be8c;">/ipp/print</span><span>&quot; \
</span><span style="color:#bf616a;">  -m </span><span>&quot;</span><span style="color:#a3be8c;">epson-inkjet-printer-escpr/Epson-L4160_Series-epson-escpr-en.ppd</span><span>&quot;
</span><span>
</span><span style="color:#65737e;"># 删除打印机
</span><span style="color:#bf616a;">sudo</span><span> lpadmin</span><span style="color:#bf616a;"> -x</span><span> Epson_L4160_Driverless Epson_L4160_Full
</span><span>
</span><span style="color:#bf616a;">lpinfo -m </span><span>| </span><span style="color:#bf616a;">grep -i </span><span>&#39;</span><span style="color:#a3be8c;">m329\|laserjet.pro.*mfp</span><span>&#39; | </span><span style="color:#bf616a;">grep -v </span><span>&#39;</span><span style="color:#a3be8c;">generic</span><span>&#39;
</span><span>
</span><span style="color:#bf616a;">ip</span><span>=</span><span style="color:#a3be8c;">192.168.1.100  </span><span style="color:#65737e;"># ← 替换为你的打印机 IP
</span><span style="color:#bf616a;">sudo</span><span> lpadmin</span><span style="color:#bf616a;"> -p</span><span> M329 \
</span><span style="color:#bf616a;">             -v </span><span>&quot;</span><span style="color:#a3be8c;">ipp://</span><span>$</span><span style="color:#bf616a;">ip</span><span style="color:#a3be8c;">:631/ipp/print</span><span>&quot; \
</span><span style="color:#bf616a;">             -m</span><span> postscript-hp:0/ppd/hplip/HP/hp-laserjet_pro_mfp_m329-ps.ppd \
</span><span style="color:#bf616a;">             -E
</span><span>
</span><span style="color:#65737e;"># 设为默认打印机
</span><span style="color:#bf616a;">sudo</span><span> lpadmin</span><span style="color:#bf616a;"> -d</span><span> M329
</span><span style="color:#65737e;"># 测试打印
</span><span style="color:#96b5b4;">echo </span><span>&quot;</span><span style="color:#a3be8c;">✅ M329 驱动配置成功</span><span>&quot; | </span><span style="color:#bf616a;">lp
</span><span style="color:#bf616a;">tail -f</span><span> /var/log/cups/error_log
</span><span>
</span><span style="color:#65737e;"># 使用无驱动打印 这是最简单的方式，直接使用系统发现的驱动
</span><span style="color:#65737e;"># -m everywhere 参数告诉CUPS使用“无驱动”模式自动配置，这利用了你的打印机已经支持的 IPP Everywhere 标准
</span><span style="color:#bf616a;">sudo</span><span> lpadmin</span><span style="color:#bf616a;"> -p</span><span> HP_LaserJet_Pro_M329 \
</span><span style="color:#bf616a;">  -E </span><span>\
</span><span style="color:#bf616a;">  -v</span><span> ipp://HP489EBD702C63.local:631/ipp/print \
</span><span style="color:#bf616a;">  -m</span><span> everywhere
</span><span>
</span><span style="color:#96b5b4;">echo </span><span>&quot;</span><span style="color:#a3be8c;">HP LaserJet Pro M329 测试页 - </span><span>$</span><span style="color:#a3be8c;">(</span><span style="color:#bf616a;">date</span><span style="color:#a3be8c;">)</span><span>&quot; | </span><span style="color:#bf616a;">lpr -P</span><span> HP_LaserJet_Pro_M329
</span></code></pre>
<h1 id="chang-yong-gong-ju-gong-neng">常用工具功能</h1>
<table><thead><tr><th>工具</th><th>包名</th><th>用途</th></tr></thead><tbody>
<tr><td>cupsd</td><td>cups-daemon</td><td>CUPS 后台服务（调度器）</td></tr>
<tr><td>lp* 系列</td><td>cups-client</td><td>打印作业控制（lp, lpstat, lpadmin, cancel）</td></tr>
<tr><td>ipptool</td><td>cups-ipp-utils</td><td>IPP 协议底层探测（诊断必备）</td></tr>
<tr><td>avahi-browse</td><td>avahi-utils</td><td>浏览 DNS-SD 服务（发现打印机）</td></tr>
<tr><td>system-config-printer（CLI 调用）</td><td>system-config-printer</td><td>文本界面配置（备选）</td></tr>
</tbody></table>
<p>|对象|	命令|	含义
|-|	-|	-
|Scheduler|	cupsd|	打印调度器
|Printer|	lpadmin|	打印队列
|Job|	lp / lpr|	打印任务
|Options|	lpoptions|	打印参数</p>
<h2 id="chang-yong-ming-ling-xing">常用命令行</h2>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">lp</span><span> file.pdf                   </span><span style="color:#65737e;"># 用默认打印机
</span><span style="color:#bf616a;">lp -d</span><span> M329 file.pdf           </span><span style="color:#65737e;"># 指定打印机
</span><span style="color:#bf616a;">lp -o</span><span> sides=two-sided-long-edge file.pdf  </span><span style="color:#65737e;"># 双面（长边翻转）
</span><span style="color:#bf616a;">lp -o</span><span> number-up=2 file.pdf    </span><span style="color:#65737e;"># 1页打2版（节省纸）
</span><span style="color:#bf616a;">cancel</span><span> M329-123               </span><span style="color:#65737e;"># 取消作业ID 123
</span><span style="color:#bf616a;">cancel -a</span><span> M329                </span><span style="color:#65737e;"># 取消M329所有作业
</span><span>
</span><span style="color:#bf616a;">sudo</span><span> tail</span><span style="color:#bf616a;"> -f</span><span> /var/log/cups/error_log
</span></code></pre>
<h2 id="shou-dong-ce-shi-da-yin-rao-guo-cups-dui-lie">手动测试打印（绕过 CUPS 队列）</h2>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># 直接发 PDF 到 IPP 端点（需打印机支持 IPP Everywhere）
</span><span style="color:#bf616a;">curl -X</span><span> POST \
</span><span style="color:#bf616a;">     -H </span><span>&quot;</span><span style="color:#a3be8c;">Content-Type: application/pdf</span><span>&quot; \
</span><span style="color:#bf616a;">     --data-binary</span><span> @/etc/issue \
</span><span>     &#39;</span><span style="color:#a3be8c;">ipp://192.168.1.100:631/ipp/print</span><span>&#39; \
</span><span style="color:#bf616a;">     -o</span><span> /tmp/ipp-response.bin
</span><span style="color:#65737e;"># 检查响应：若 200 OK 且打印机出纸 → 底层 IPP 正常，问题在 CUPS 配置
</span></code></pre>
<h2 id="guan-bi-cups-browsed">关闭cups-browsed</h2>
<p>默认发现的打印机器常是implicitclassj性能低？？</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">sudo</span><span> systemctl stop cups-browsed
</span><span style="color:#bf616a;">sudo</span><span> systemctl disable cups-browsed
</span></code></pre>
<h1 id="ming-ling-xing-shi-yong-da-yin-ji">命令行使用打印机</h1>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># 第一步：发现打印机URI, 主动扫描局域网中所有支持 IPP 的设备（打印机、扫描仪、甚至 IPP 服务器）
</span><span style="color:#bf616a;">ippfind  
</span><span style="color:#65737e;"># 第二步：测试连接
</span><span style="color:#bf616a;">ipptool -tv </span><span>&#39;</span><span style="color:#a3be8c;">ipp://EPSON4DDFDF.local:631/ipp/print</span><span>&#39; /usr/share/cups/ipptool/get-printer-attributes.test
</span><span style="color:#65737e;"># 第三步：添加到CUPS
</span><span style="color:#bf616a;">sudo</span><span> lpadmin</span><span style="color:#bf616a;"> -p</span><span> EPSON_L4160 \
</span><span style="color:#bf616a;">  -E </span><span>\
</span><span style="color:#bf616a;">  -v </span><span>&quot;</span><span style="color:#a3be8c;">ipp://EPSON4DDFDF.local:631/ipp/print</span><span>&quot; \
</span><span style="color:#bf616a;">  -m</span><span> everywhere
</span><span>
</span><span style="color:#65737e;"># 查看DNS-SD服务详细信息
</span><span style="color:#bf616a;">avahi-browse -rpt</span><span> _ipp._tcp
</span><span>
</span><span style="color:#65737e;"># 查看所有打印机 # 列出 CUPS 当前已注册并管理的打印机 及其内部表示的设备 URI
</span><span style="color:#bf616a;">lpstat -p -d
</span><span style="color:#65737e;"># 输出示例：
</span><span style="color:#65737e;"># printer EPSON_L4160 is idle. enabled since Mon 2023-01-01 10:00:00 CST
</span><span style="color:#65737e;"># printer HP_LaserJet is idle. enabled since Mon 2023-01-01 10:00:00 CST
</span><span style="color:#65737e;"># system default destination: EPSON_L4160
</span><span>
</span><span style="color:#65737e;"># 查看详细打印机信息
</span><span style="color:#bf616a;">lpstat -l -v
</span><span>
</span><span style="color:#65737e;"># 查看打印队列
</span><span style="color:#bf616a;">lpq
</span><span style="color:#65737e;"># 输出示例：
</span><span style="color:#65737e;"># EPSON_L4160 is ready
</span><span style="color:#65737e;"># no entries
</span><span>
</span><span style="color:#65737e;"># 查看打印机选项
</span><span style="color:#bf616a;">lpoptions -p </span><span>&lt;printer_name&gt; -l# 查看所有打印机
</span><span style="color:#bf616a;">lpstat -p -d
</span><span style="color:#65737e;"># 查看详细打印机信息
</span><span style="color:#bf616a;">lpstat -l -v
</span><span>
</span><span style="color:#65737e;"># 列出所有可用驱动
</span><span style="color:#bf616a;">lpinfo -m
</span></code></pre>
<h2 id="tian-jia-da-yin-ji">添加打印机</h2>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># 添加网络打印机（IPP协议）
</span><span style="color:#bf616a;">sudo</span><span> lpadmin</span><span style="color:#bf616a;"> -p</span><span> EPSON_L4160</span><span style="color:#bf616a;"> -E </span><span>\
</span><span style="color:#bf616a;">  -v </span><span>&quot;</span><span style="color:#a3be8c;">ipp://192.168.1.100/ipp/print</span><span>&quot; \
</span><span style="color:#bf616a;">  -m </span><span>&quot;</span><span style="color:#a3be8c;">drv:///sample.drv/generic.ppd</span><span>&quot; \
</span><span style="color:#bf616a;">  -L </span><span>&quot;</span><span style="color:#a3be8c;">办公室</span><span>&quot;
</span><span>
</span><span style="color:#65737e;"># 参数解释：
</span><span style="color:#65737e;"># -p：打印机名称
</span><span style="color:#65737e;"># -E：启用打印机
</span><span style="color:#65737e;"># -v：设备URI
</span><span style="color:#65737e;"># -m：PPD驱动文件
</span><span style="color:#65737e;"># -L：位置描述
</span><span>
</span><span style="color:#65737e;"># 添加USB打印机
</span><span style="color:#bf616a;">sudo</span><span> lpadmin</span><span style="color:#bf616a;"> -p</span><span> HP_Deskjet</span><span style="color:#bf616a;"> -E </span><span>\
</span><span style="color:#bf616a;">  -v </span><span>&quot;</span><span style="color:#a3be8c;">usb://HP/Deskjet?serial=XYZ123</span><span>&quot; \
</span><span style="color:#bf616a;">  -m </span><span>&quot;</span><span style="color:#a3be8c;">ppd/hp-deskjet.ppd</span><span>&quot;
</span><span>
</span><span style="color:#65737e;"># 添加SMB共享打印机
</span><span style="color:#bf616a;">sudo</span><span> lpadmin</span><span style="color:#bf616a;"> -p</span><span> Network_Printer</span><span style="color:#bf616a;"> -E </span><span>\
</span><span style="color:#bf616a;">  -v </span><span>&quot;</span><span style="color:#a3be8c;">smb://workgroup/user:password@server/printer</span><span>&quot; \
</span><span style="color:#bf616a;">  -m </span><span>&quot;</span><span style="color:#a3be8c;">everywhere</span><span>&quot; \
</span><span style="color:#bf616a;">  -o</span><span> auth-info-required=username,password
</span><span>
</span><span style="color:#65737e;"># 发现网络打印机
</span><span style="color:#bf616a;">ippfind
</span><span style="color:#65737e;"># 输出示例：ipp://EPSON%20L4160._ipp._tcp.local/
</span><span>
</span><span style="color:#65737e;"># 获取驱动信息
</span><span style="color:#bf616a;">lpinfo --make-and-model </span><span>&quot;</span><span style="color:#a3be8c;">EPSON L4160</span><span>&quot;</span><span style="color:#bf616a;"> -m
</span></code></pre>
<h2 id="pei-zhi-da-yin-ji">配置打印机</h2>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># 设置默认打印机
</span><span style="color:#bf616a;">sudo</span><span> lpadmin</span><span style="color:#bf616a;"> -d</span><span> EPSON_L4160
</span><span>
</span><span style="color:#65737e;"># 配置打印机选项
</span><span style="color:#bf616a;">sudo</span><span> lpadmin</span><span style="color:#bf616a;"> -p</span><span> EPSON_L4160 \
</span><span style="color:#bf616a;">  -o</span><span> PageSize=A4 \
</span><span style="color:#bf616a;">  -o</span><span> Duplex=DuplexNoTumble \
</span><span style="color:#bf616a;">  -o</span><span> ColorModel=RGB \
</span><span style="color:#bf616a;">  -o</span><span> Resolution=600dpi
</span><span>
</span><span style="color:#65737e;"># 禁用/启用打印机
</span><span style="color:#bf616a;">sudo</span><span> cupsdisable EPSON_L4160
</span><span style="color:#bf616a;">sudo</span><span> cupsenable EPSON_L4160
</span><span>
</span><span style="color:#65737e;"># 拒绝/接受打印作业
</span><span style="color:#bf616a;">cupsreject</span><span> EPSON_L4160
</span><span style="color:#bf616a;">cupsaccept</span><span> EPSON_L4160
</span></code></pre>
<h2 id="ji-ben-da-yin">基本打印</h2>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># 基本打印
</span><span style="color:#bf616a;">lpr</span><span> document.pdf
</span><span>
</span><span style="color:#65737e;"># 指定打印机
</span><span style="color:#bf616a;">lpr -P</span><span> EPSON_L4160 document.pdf
</span><span>
</span><span style="color:#65737e;"># 指定份数
</span><span style="color:#bf616a;">lpr</span><span> -# 3 document.pdf
</span><span>
</span><span style="color:#65737e;"># 指定打印范围
</span><span style="color:#bf616a;">lpr -o</span><span> page-ranges=1-5,8,11-13 document.pdf
</span><span>
</span><span style="color:#65737e;"># 双面打印
</span><span style="color:#bf616a;">lpr -o</span><span> sides=two-sided-long-edge document.pdf
</span><span>
</span><span style="color:#65737e;"># 打印选项组合
</span><span style="color:#bf616a;">lpr -P</span><span> HP_LaserJet</span><span style="color:#bf616a;"> -o</span><span> media=A4</span><span style="color:#bf616a;"> -o</span><span> sides=two-sided-short-edge -# 2 report.pdf
</span></code></pre>
<h2 id="da-yin-dui-lie-guan-li">打印队列管理</h2>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># 查看所有打印作业
</span><span style="color:#bf616a;">lpstat -o
</span><span>
</span><span style="color:#65737e;"># 输出示例：
</span><span style="color:#65737e;"># EPSON_L4160-101 user1 1024 Mon 10:00:00
</span><span style="color:#65737e;"># HP_LaserJet-102 user2 2048 Mon 10:01:00
</span><span>
</span><span style="color:#65737e;"># 查看特定打印机的作业
</span><span style="color:#bf616a;">lpq -P</span><span> EPSON_L4160
</span><span>
</span><span style="color:#65737e;"># 取消打印作业
</span><span style="color:#bf616a;">lprm</span><span> 101
</span><span style="color:#65737e;"># 或取消所有作业
</span><span style="color:#bf616a;">lprm</span><span> -
</span><span>
</span><span style="color:#65737e;"># 移动作业到另一台打印机
</span><span style="color:#bf616a;">lpmove</span><span> 101 HP_LaserJet
</span><span>
</span><span style="color:#65737e;"># 查看作业详情
</span><span style="color:#bf616a;">lpq -l -P</span><span> EPSON_L4160
</span></code></pre>
<h1 id="gao-ji-pei-zhi">高级配置</h1>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># 主要配置文件
</span><span style="color:#bf616a;">/etc/cups/cupsd.conf      </span><span style="color:#65737e;"># CUPS服务配置
</span><span style="color:#bf616a;">/etc/cups/printers.conf   </span><span style="color:#65737e;"># 打印机定义
</span><span style="color:#bf616a;">/etc/cups/ppd/            </span><span style="color:#65737e;"># PPD驱动文件目录
</span><span style="color:#bf616a;">/var/spool/cups/          </span><span style="color:#65737e;"># 打印队列目录
</span><span>
</span><span style="color:#65737e;"># 查看CUPS错误日志
</span><span style="color:#bf616a;">sudo</span><span> tail</span><span style="color:#bf616a;"> -f</span><span> /var/log/cups/error_log
</span><span>
</span><span style="color:#65737e;"># 查看访问日志
</span><span style="color:#bf616a;">sudo</span><span> tail</span><span style="color:#bf616a;"> -f</span><span> /var/log/cups/access_log
</span><span>
</span><span style="color:#65737e;"># 设置日志级别
</span><span style="color:#bf616a;">sudo</span><span> cupsctl LogLevel=debug
</span></code></pre>
<h2 id="qu-dong-fang-an-dui-bi-ji-yu-ni-de-cmd-lie-biao">驱动方案对比（基于你的 CMD 列表）</h2>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span>
</span></code></pre>
<table><thead><tr><th>驱动方案</th><th>是否支持 PCLXL</th><th>是否支持 PDF</th><th>是否支持 POSTSCRIPT</th><th>状态反馈</th><th>推荐度</th></tr></thead><tbody>
<tr><td>hpcups</td><td>✅ 原生优化</td><td>✅ 直接处理</td><td>✅ Ghostscript 后端</td><td>✅ 完整（墨量/卡纸）</td><td>⭐⭐⭐⭐⭐</td></tr>
<tr><td>IPP Everywhere (everywhere)</td><td>❌ 转 PDF</td><td>✅ 原生</td><td>❌ 无 PostScript</td><td>⚠️ 仅基础状态</td><td>⭐⭐⭐</td></tr>
<tr><td>Generic PostScript</td><td>❌</td><td>❌</td><td>✅</td><td>❌</td><td>⭐</td></tr>
</tbody></table>
<h2 id="white-check-mark-wei-shen-me-hpcups-geng-you">✅ 为什么 hpcups 更优？</h2>
<ul>
<li>你的打印机广播了 PCLXL（高效二进制语言），而 hpcups 会：</li>
<li>直接生成 PCLXL → 比 PDF 转换快 20%+</li>
<li>利用 CID:HPLJPDLV1 启用硬件级双面校准</li>
<li>通过 PJL 查询 SN:CNDRP7P136 实现精确墨量监控</li>
</ul>
</section>
  <hr />
  <!-- Post Taxonomies -->
<footer class="mt-12 flex flex-col" tabindex="-1" accesskey="_">
  <div class="mb-2 flex flex-wrap">
    <span class="block-bg mb-1.5 mr-1.5 rounded-lg px-5 py-1.5">Tags</span>
    
    <a
      class="block-bg block-hover mb-1.5 mr-1.5 rounded-lg px-5 py-1.5 no-underline"
      href="https://blog.moxuetianya.com/tags/printer/">printer</a>
    
  </div>
</footer>

  <!-- Post Nav -->
<nav class="block-bg mt-12 flex flex-wrap rounded-lg text-lg">
  <a
    class="block-hover-mask flex min-w-[50%] grow items-center rounded-l-md p-6 pr-3 font-semibold no-underline"
    href="https://blog.moxuetianya.com/2025/12/linux pipewire 蓝牙耳机无声/" accesskey=","
    ><span class="mr-1.5">&#8249;</span><span>linux pipewire 蓝牙耳机无声</span></a>
  <a
    class="block-hover-mask ml-auto flex min-w-[50%] grow items-center justify-end rounded-r-md p-6 pl-3 font-semibold no-underline"
    href="https://blog.moxuetianya.com/2025/12/linux 中ntfs自动挂载/" accesskey="."
    ><span>linux 中ntfs自动挂载</span><span class="ml-1.5">&#8250;</span></a>
</nav>

  <!-- Begin Page End inject -->
  
  <!-- End Page End inject -->
</article>

  </main>
  <!-- Footer -->
<footer class="mx-auto flex lg:mt-5 max-w-3xl flex-wrap items-center px-4 py-3 text-sm opacity-60">
  <div class="mr-auto basis-full lg:basis-1/2">
  © <time datetime="2025">2025</time> moxuetianya
  </div>
  <div class="flex basis-full lg:basis-1/2 lg:justify-end">
    <span class="mr-6 lg:ml-6">
      <a class="link" href="https://www.getzola.org/" target="_blank">Powered by Zola</a>
    </span>
    <a class="link" href="https://www.getzola.org/themes/linkita/" target="_blank">&#9998; Linkita</a>
  </div>
  <!-- Begin Footer inject -->
  
  <!-- End Footer inject -->
</footer>

  

  <!-- Begin Body End inject -->
  
  <!-- End Body End inject -->
</body>

</html>
