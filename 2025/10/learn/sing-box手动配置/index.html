<!doctype html>
<html class="not-ready lg:text-base overflow-y-scroll scroll-pt-14" lang="en">

<head prefix="og: https://ogp.me/ns# article: https://ogp.me/ns/article#">
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="generator" content="Zola" />
  <title>sing-box手动配置</title>
  <meta property="og:title" content="sing-box手动配置" />
  <meta property="og:url" content="https://blog.moxuetianya.com/2025/10/learn/sing-box手动配置/" />
  <link rel="canonical" href="https://blog.moxuetianya.com/2025/10/learn/sing-box手动配置/" />
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2025-10-05T22:28:01+08:00" />
  <meta property="article:tag" content="anytls" />
  <meta property="article:tag" content="reality" />
  <meta property="article:tag" content="sing-box" />
  <!-- Begin Head inject -->
  
  <!-- End Head inject -->
  <link rel="stylesheet" href="https://blog.moxuetianya.com/main.min.css?h=fc65ba308cf36d3ba82c" />
  <style>
  :root{--bg: #f4f4f5; --header: #e4e4e7; color-scheme: light;}
  :root.dark{--bg: #18181b; --header: #27272a; color-scheme: dark;}
  </style>
  <meta name="theme-color" data-light="#e4e4e7" data-dark="#27272a" content="#e4e4e7" />
  <link rel="icon" type="image/x-icon" sizes="16x16" href="https://blog.moxuetianya.com/favicon.ico" />
  <link rel="apple-touch-icon" type="image/png" href="https://blog.moxuetianya.com/apple-touch-icon.png?h=58bee300054c5308feb3" />
  <link rel="icon" type="image/png" href="https://blog.moxuetianya.com/android-icon.png?h=8d80ec95446bd2c36826" />
  <script src="https://blog.moxuetianya.com/js/linkita.min.js?h=1dd3ed42fc674277bc34"></script>
  <script src="https://blog.moxuetianya.com/js/linkita-search.min.js?h=698547b4b081d012c661"></script>
  <!-- Begin Head End inject -->
  
  <!-- End Head End inject -->
</head>

<body class="text-black duration-100 ease-out bg-[var(--bg)] dark:text-white">
  <!-- Header -->
<header class="bg-[var(--header)] fixed top-0 z-40 mx-auto min-h-[3.25rem] w-full header-icons">
  <div class="mx-auto w-full max-w-4xl p-2.5 lg:flex lg:justify-between">
    <div class="flex justify-between">
      <div class="flex items-center min-h-8">
        <button type="button" title="Go to home page" accesskey="!"
          onclick="window.location.href='https://blog.moxuetianya.com/';"
          class="btn-home h-6 w-6 shrink-0 cursor-pointer text-[0] bg-center bg-no-repeat bg-cover [background-image:var(--icon-home)] dark:invert"
        ></button>
        <button type="button" title="Switch color scheme" accesskey="$"
          onclick="window.linkita.toggleDarkMode();" ondblclick="window.linkita.resetDarkMode();"
          class="btn-dark ml-4 h-6 w-6 shrink-0 cursor-pointer text-[0] bg-center bg-no-repeat bg-cover dark:invert [background-image:var(--icon-theme-dark)] dark:[background-image:var(--icon-theme-light)]"
        ></button>
        <button type="button" title="Search" accesskey="/"
          onclick="window.linkita.toggleSearch();"
          class="btn-search ml-4 h-6 w-6 shrink-0 cursor-pointer text-[0] bg-center bg-no-repeat bg-cover [background-image:var(--icon-search)] dark:invert"
        ></button>
        <script>window.linkita.initSearchButton({ scripts: ["https://blog.moxuetianya.com/elasticlunr.min.js", "https://blog.moxuetianya.com/search_index.en.js"] });</script>
      </div>
    </div>
  </div>
</header>

  <!-- Begin Body Start inject -->
  
  <!-- End Body Start inject -->
  <main class="prose prose-neutral relative mx-auto min-h-[calc(100%-4rem)]
    max-w-3xl break-words px-4 pb-12 pt-28 lg:pt-32 dark:prose-invert prose-pre:rounded-lg prose-img:rounded-lg">
      <!-- Search -->
<div id="linkita-search-wrapper" class="hidden">
  <ul id="linkita-search-results"></ul>
</div>

    
<article>
  <!-- Begin Page Start inject -->
  
  <!-- End Page Start inject -->

  <header class="mb-16">
    <h1 class="!my-0 pb-2.5">sing-box手动配置</h1>
    <!-- Page Info -->
<div class="text-sm antialiased opacity-80"><time
      datetime="2025-10-05T22:28:01+08:00">2025-10-05</time><span
        class="mx-1">&middot;</span><time
    datetime="PT0H2M0S">2&nbsp;min</time>
</div>

  </header>
  <!-- TOC -->
<div class="block-bg mb-12 rounded-lg p-2 text-lg">
  <details>
    <summary class="select-none py-0.5 lg:py-1 pl-4" accesskey="=">
      <span class="cursor-pointer">Table of Contents</span>
    </summary>
    <div class="px-2">
      <ul>
        <li>
          <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/10/learn/sing-box手动配置/#an-zhuang-sing-box">安装sing-box</a>
        </li>
        <li>
          <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/10/learn/sing-box手动配置/#any-realityyuan-li">any-reality原理</a>
          <ul>
            <li>
              <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/10/learn/sing-box手动配置/#pei-zhi-zu-he">配置组合</a>
            </li>
          </ul>
        </li>
        <li>
          <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/10/learn/sing-box手动配置/#pei-zhi-any-reality">配置any-reality</a>
          <ul>
            <li>
              <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/10/learn/sing-box手动配置/#sheng-cheng-reality-keypair">生成reality keypair</a>
            </li>
            <li>
              <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/10/learn/sing-box手动配置/#anytls-reality-server-pei-zhi">anytls-reality server 配置</a>
            </li>
            <li>
              <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/10/learn/sing-box手动配置/#anytls-reality-client-pei-zhi">anytls-reality client 配置</a>
            </li>
          </ul>
        </li>
        <li>
          <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/10/learn/sing-box手动配置/#andriod-ban-ben-shi-yong">andriod 版本使用</a>
        </li>
      </ul>
    </div>
  </details>
</div>

  <!-- Content -->
  <section><h1 id="an-zhuang-sing-box">安装sing-box</h1>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">sudo</span><span> mkdir</span><span style="color:#bf616a;"> -p</span><span> /etc/apt/keyrings &amp;&amp;
</span><span>   </span><span style="color:#bf616a;">sudo</span><span> curl</span><span style="color:#bf616a;"> -fsSL</span><span> https://sing-box.app/gpg.key</span><span style="color:#bf616a;"> -o</span><span> /etc/apt/keyrings/sagernet.asc &amp;&amp;
</span><span>   </span><span style="color:#bf616a;">sudo</span><span> chmod a+r /etc/apt/keyrings/sagernet.asc &amp;&amp;
</span><span>   </span><span style="color:#96b5b4;">echo </span><span>&#39;
</span><span style="color:#a3be8c;">Types: deb
</span><span style="color:#a3be8c;">URIs: https://deb.sagernet.org/
</span><span style="color:#a3be8c;">Suites: *
</span><span style="color:#a3be8c;">Components: *
</span><span style="color:#a3be8c;">Enabled: yes
</span><span style="color:#a3be8c;">Signed-By: /etc/apt/keyrings/sagernet.asc
</span><span>&#39; | </span><span style="color:#bf616a;">sudo</span><span> tee /etc/apt/sources.list.d/sagernet.sources &amp;&amp;
</span><span>   </span><span style="color:#bf616a;">sudo</span><span> apt-get update &amp;&amp;
</span><span>   </span><span style="color:#bf616a;">sudo</span><span> apt-get install sing-box </span><span style="color:#65737e;"># or sing-box-beta
</span><span>
</span><span style="color:#65737e;"># manual install
</span><span style="color:#bf616a;">curl -fsSL</span><span> https://sing-box.app/install.sh | </span><span style="color:#bf616a;">sh
</span><span style="color:#bf616a;">curl -fsSL</span><span> https://sing-box.app/install.sh | </span><span style="color:#bf616a;">sh -s</span><span> -- --version &lt;version&gt;
</span><span style="color:#65737e;"># 从github下载安装
</span><span style="color:#bf616a;">sudo</span><span> mkdir</span><span style="color:#bf616a;"> -p</span><span> /opt/sing-box/conf
</span><span style="color:#bf616a;">wget</span><span> https://github.com/SagerNet/sing-box/releases/download/v1.12.9/sing-box-1.12.9-linux-amd64.tar.gz 
</span><span style="color:#bf616a;">sudo</span><span> tar xvzf sing-box-1.12.9-linux-amd64.tar.gz</span><span style="color:#bf616a;"> -C</span><span> /opt/sing-box/
</span><span style="color:#bf616a;">sudo</span><span> cp /opt/sing-box/sing-box-1.12.9-linux-amd64/sing-box /opt/sing-box/sing-box
</span><span>
</span><span style="color:#bf616a;">mkdir -p ~</span><span>/.proxy/conf
</span><span style="color:#bf616a;">wget</span><span> https://github.com/SagerNet/sing-box/releases/download/v1.12.9/sing-box-1.12.9-linux-amd64.tar.gz 
</span><span style="color:#bf616a;">tar</span><span> xvzf sing-box-1.12.9-linux-amd64.tar.gz</span><span style="color:#bf616a;"> -C ~</span><span>/.proxy/
</span><span style="color:#bf616a;">cp ~</span><span>/.proxy/sing-box-1.12.9-linux-amd64/sing-box </span><span style="color:#bf616a;">~</span><span>/.proxy/
</span></code></pre>
<h1 id="any-realityyuan-li">any-reality原理</h1>
<ul>
<li>其实我们可以把处理需要代理的数据分成三个部分:</li>
</ul>
<ol>
<li>最上层的第一个部分就是我们熟知的各种代理协议，比如ss、vmess、vless、trojan、socks、anytls等等</li>
<li>第二部分是传输方式，也就是上层经过代理协议处理的数据用什么方式传输，比如raw原始状态、ws、kcp、grpc、xhttp、httpupgrade、meek等等
我们熟悉的vmess+ws，就是将上层vmess处理后的数据通过ws传输，这层一般不对数据进行加密，要么是在第一层就通过代理协议加密了，要么是交给第三层的传输安全来处理</li>
<li>最底层也就是我们熟知的tls以及reality</li>
</ol>
<h2 id="pei-zhi-zu-he">配置组合</h2>
<p><img src="/images/anytls-reality.png" alt="anytls-reality" /></p>
<ul>
<li>通过这个图我们就可以实现任意协议组合任意传输，比如我可以搭建普通的vmess节点，也可以搭建ss+ws的节点，或者ss+grpc+reality</li>
<li>还可以将原本的协议组合打乱，比如trojan协议默认情况下就是套了tls，我们可以给她换成reality或者直接脱掉tls让她裸奔</li>
<li>anytls也是类似，协议默认设计成了套tls，但我们可以给他套上reality，也就变成了anyreality了</li>
</ul>
<h1 id="pei-zhi-any-reality">配置any-reality</h1>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">sudo</span><span> loginctl enable-linger peter
</span><span style="color:#bf616a;">sudo</span><span> loginctl show-user peter
</span></code></pre>
<p>如果您希望为所有用户启用linger，可以编辑 /etc/systemd/logind.conf 文件，并将 LingerDefault 选项设置为 yes，然后重启 systemd-logind</p>
<h2 id="sheng-cheng-reality-keypair">生成reality keypair</h2>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">sing-box</span><span> generate reality-keypair
</span></code></pre>
<h2 id="anytls-reality-server-pei-zhi">anytls-reality server 配置</h2>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">sudo</span><span> mkdir</span><span style="color:#bf616a;"> -p</span><span> /opt/sing-box/conf
</span><span style="color:#bf616a;">cat </span><span>&lt;&lt;</span><span style="color:#b48ead;">EOF </span><span>|</span><span style="color:#bf616a;">sudo</span><span> tee /etc/systemd/system/sing-box-manual.service
</span><span style="color:#a3be8c;">[Unit]
</span><span style="color:#a3be8c;">Description=sing-box Service
</span><span style="color:#a3be8c;">Documentation=https://sing-box.sagernet.org/
</span><span style="color:#a3be8c;">After=network.target nss-lookup.target
</span><span style="color:#a3be8c;">[Service]
</span><span style="color:#a3be8c;">User=peter
</span><span style="color:#a3be8c;">ExecStart=/opt/sing-box/sing-box run -c /opt/sing-box/config.json -C /opt/sing-box/conf
</span><span style="color:#a3be8c;">Restart=on-failure
</span><span style="color:#a3be8c;">RestartPreventExitStatus=23
</span><span style="color:#a3be8c;">RestartSec=10s
</span><span style="color:#a3be8c;">LimitNPROC=10000
</span><span style="color:#a3be8c;">LimitNOFILE=1048576
</span><span style="color:#a3be8c;">PrivateTmp=true
</span><span style="color:#a3be8c;">ProtectSystem=full
</span><span style="color:#a3be8c;">#CapabilityBoundingSet=CAP_NET_ADMIN CAP_NET_BIND_SERVICE
</span><span style="color:#a3be8c;">#AmbientCapabilities=CAP_NET_ADMIN CAP_NET_BIND_SERVICE
</span><span style="color:#a3be8c;">[Install]
</span><span style="color:#a3be8c;">WantedBy=multi-user.target
</span><span style="color:#b48ead;">EOF
</span></code></pre>
<pre data-lang="json" style="background-color:#2b303b;color:#c0c5ce;" class="language-json "><code class="language-json" data-lang="json"><span># 后续需要添加新的outbounds可以直接添加在/opt/sing-box/conf/中， sing-box 会自动merge
</span><span># 主配置在config.json中
</span><span>cat &lt;&lt;EOF | sudo tee /opt/sing-box/config.json 
</span><span>{
</span><span>    &quot;</span><span style="color:#a3be8c;">inbounds</span><span>&quot;: [
</span><span>        {
</span><span>            &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">anytls</span><span>&quot;,
</span><span>            &quot;</span><span style="color:#a3be8c;">listen</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">::</span><span>&quot;,
</span><span>            &quot;</span><span style="color:#a3be8c;">listen_port</span><span>&quot;: </span><span style="color:#d08770;">6443</span><span>,
</span><span>            &quot;</span><span style="color:#a3be8c;">users</span><span>&quot;: [
</span><span>                {
</span><span>                    &quot;</span><span style="color:#a3be8c;">name</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">user</span><span>&quot;,
</span><span>                    &quot;</span><span style="color:#a3be8c;">password</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">123456</span><span>&quot;
</span><span>                }
</span><span>            ],
</span><span>            &quot;</span><span style="color:#a3be8c;">padding_scheme</span><span>&quot;: [
</span><span>                &quot;</span><span style="color:#a3be8c;">stop=8</span><span>&quot;,
</span><span>                &quot;</span><span style="color:#a3be8c;">0=30-30</span><span>&quot;,
</span><span>                &quot;</span><span style="color:#a3be8c;">1=100-400</span><span>&quot;,
</span><span>                &quot;</span><span style="color:#a3be8c;">2=400-500,c,500-1000,c,500-1000,c,500-1000,c,500-1000</span><span>&quot;,
</span><span>                &quot;</span><span style="color:#a3be8c;">3=9-9,500-1000</span><span>&quot;,
</span><span>                &quot;</span><span style="color:#a3be8c;">4=500-1000</span><span>&quot;,
</span><span>                &quot;</span><span style="color:#a3be8c;">5=500-1000</span><span>&quot;,
</span><span>                &quot;</span><span style="color:#a3be8c;">6=500-1000</span><span>&quot;,
</span><span>                &quot;</span><span style="color:#a3be8c;">7=500-1000</span><span>&quot;
</span><span>            ],
</span><span>            &quot;</span><span style="color:#a3be8c;">tls</span><span>&quot;: {
</span><span>                &quot;</span><span style="color:#a3be8c;">enabled</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>                &quot;</span><span style="color:#a3be8c;">server_name</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">yahoo.com</span><span>&quot;,
</span><span>                &quot;</span><span style="color:#a3be8c;">reality</span><span>&quot;: {
</span><span>                    &quot;</span><span style="color:#a3be8c;">enabled</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>                    &quot;</span><span style="color:#a3be8c;">handshake</span><span>&quot;: {
</span><span>                        &quot;</span><span style="color:#a3be8c;">server</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">yahoo.com</span><span>&quot;,
</span><span>                        &quot;</span><span style="color:#a3be8c;">server_port</span><span>&quot;: </span><span style="color:#d08770;">443
</span><span>                    },
</span><span>                    &quot;</span><span style="color:#a3be8c;">private_key</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">eO3B3EMGXrYfGOe87NkUVusaeUxtLB4vxiqjVXqb9GU</span><span>&quot;,
</span><span>                    &quot;</span><span style="color:#a3be8c;">short_id</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">0123456789abcdef</span><span>&quot;
</span><span>                }
</span><span>            }
</span><span>        }
</span><span>    ],
</span><span>    &quot;</span><span style="color:#a3be8c;">outbounds</span><span>&quot;: [
</span><span>        {
</span><span>            &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">direct</span><span>&quot;,
</span><span>            &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">public_key_u4v3a_-uhIXPE2RoGaNy9_W5EK5UYV_hVN4Vpei75lM</span><span>&quot;
</span><span>        }
</span><span>    ]
</span><span>}
</span><span>EOF
</span></code></pre>
<h2 id="anytls-reality-client-pei-zhi">anytls-reality client 配置</h2>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">mkdir -p ~</span><span>/.proxy/conf
</span><span style="color:#bf616a;">cat </span><span>&lt;&lt;</span><span style="color:#b48ead;">EOF </span><span>&gt; </span><span style="color:#bf616a;">~</span><span>/.config/systemd/user/sing-box-manual.service
</span><span style="color:#a3be8c;">[Unit]
</span><span style="color:#a3be8c;">Description=sing-box Service
</span><span style="color:#a3be8c;">Documentation=https://sing-box.sagernet.org/
</span><span style="color:#a3be8c;">After=network.target nss-lookup.target
</span><span style="color:#a3be8c;">[Service]
</span><span style="color:#a3be8c;">ExecStart=/home/peter/.proxy/sing-box run -c /home/peter/.proxy/config.json -C /home/peter/.proxy/conf
</span><span style="color:#a3be8c;">Restart=on-failure
</span><span style="color:#a3be8c;">RestartSec=10s
</span><span style="color:#a3be8c;">[Install]
</span><span style="color:#a3be8c;">WantedBy=default.target
</span><span style="color:#b48ead;">EOF
</span><span>
</span><span style="color:#bf616a;">systemctl --user</span><span> daemon-reload
</span><span style="color:#bf616a;">systemctl --user</span><span> start sing-box-manual.service
</span><span style="color:#bf616a;">systemctl --user</span><span> show-environment
</span><span style="color:#bf616a;">journalctl --user -ex -u</span><span> sing-box-manual.service 
</span></code></pre>
<pre data-lang="json" style="background-color:#2b303b;color:#c0c5ce;" class="language-json "><code class="language-json" data-lang="json"><span>cat &lt;&lt;EOF &gt; /home/peter/.proxy/conf/anytls-reality.json
</span><span>{
</span><span>    &quot;</span><span style="color:#a3be8c;">outbounds</span><span>&quot;: [
</span><span>        {
</span><span>            &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">anytls</span><span>&quot;,
</span><span>            &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">anytls-out</span><span>&quot;,
</span><span>            &quot;</span><span style="color:#a3be8c;">server</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">10.32.118.200</span><span>&quot;,
</span><span>            &quot;</span><span style="color:#a3be8c;">server_port</span><span>&quot;: </span><span style="color:#d08770;">6443</span><span>,
</span><span>            &quot;</span><span style="color:#a3be8c;">password</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">123456</span><span>&quot;,
</span><span>            &quot;</span><span style="color:#a3be8c;">idle_session_check_interval</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">30s</span><span>&quot;,
</span><span>            &quot;</span><span style="color:#a3be8c;">idle_session_timeout</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">30s</span><span>&quot;,
</span><span>            &quot;</span><span style="color:#a3be8c;">min_idle_session</span><span>&quot;: </span><span style="color:#d08770;">5</span><span>,
</span><span>            &quot;</span><span style="color:#a3be8c;">tls</span><span>&quot;: {
</span><span>                &quot;</span><span style="color:#a3be8c;">enabled</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>                &quot;</span><span style="color:#a3be8c;">disable_sni</span><span>&quot;: </span><span style="color:#d08770;">false</span><span>,
</span><span>                &quot;</span><span style="color:#a3be8c;">server_name</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">yahoo.com</span><span>&quot;,
</span><span>                &quot;</span><span style="color:#a3be8c;">insecure</span><span>&quot;: </span><span style="color:#d08770;">false</span><span>,
</span><span>                &quot;</span><span style="color:#a3be8c;">utls</span><span>&quot;: {
</span><span>                    &quot;</span><span style="color:#a3be8c;">enabled</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>                    &quot;</span><span style="color:#a3be8c;">fingerprint</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">chrome</span><span>&quot;
</span><span>                },
</span><span>                &quot;</span><span style="color:#a3be8c;">reality</span><span>&quot;: {
</span><span>                    &quot;</span><span style="color:#a3be8c;">enabled</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>                    &quot;</span><span style="color:#a3be8c;">public_key</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">u4v3a_-uhIXPE2RoGaNy9_W5EK5UYV_hVN4Vpei75lM</span><span>&quot;,
</span><span>                    &quot;</span><span style="color:#a3be8c;">short_id</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">0123456789abcdef</span><span>&quot;
</span><span>                }
</span><span>            }
</span><span>        },
</span><span>        {
</span><span>            &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">direct</span><span>&quot;,
</span><span>            &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">direct</span><span>&quot;
</span><span>        }
</span><span>    ]
</span><span>}
</span><span>EOF
</span></code></pre>
<p>基础配置</p>
<pre data-lang="json" style="background-color:#2b303b;color:#c0c5ce;" class="language-json "><code class="language-json" data-lang="json"><span>cat &lt;&lt;EOF &gt; /home/peter/.proxy/config.json
</span><span>{
</span><span>  &quot;</span><span style="color:#a3be8c;">log</span><span>&quot;: {
</span><span>    &quot;</span><span style="color:#a3be8c;">disabled</span><span>&quot;: </span><span style="color:#d08770;">false</span><span>,
</span><span>    &quot;</span><span style="color:#a3be8c;">level</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">debug</span><span>&quot;,
</span><span>    &quot;</span><span style="color:#a3be8c;">output</span><span>&quot;: &quot;&quot;,
</span><span>    &quot;</span><span style="color:#a3be8c;">timestamp</span><span>&quot;: </span><span style="color:#d08770;">true
</span><span>  },
</span><span>  &quot;</span><span style="color:#a3be8c;">experimental</span><span>&quot;: {
</span><span>    &quot;</span><span style="color:#a3be8c;">clash_api</span><span>&quot;: {
</span><span>      &quot;</span><span style="color:#a3be8c;">external_controller</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">127.0.0.1:10807</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">external_ui</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">ui</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">external_ui_download_url</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">https://github.com/MetaCubeX/metacubexd/archive/gh-pages.zip</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">external_ui_download_detour</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">vless-out</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">default_mode</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">rule</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">access_control_allow_origin</span><span>&quot;: [ &quot;</span><span style="color:#a3be8c;">*</span><span>&quot; ],
</span><span>      &quot;</span><span style="color:#a3be8c;">access_control_allow_private_network</span><span>&quot;: </span><span style="color:#d08770;">false
</span><span>    },
</span><span>    &quot;</span><span style="color:#a3be8c;">cache_file</span><span>&quot;: {
</span><span>      &quot;</span><span style="color:#a3be8c;">enabled</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>      &quot;</span><span style="color:#a3be8c;">path</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">cache.db</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">cache_id</span><span>&quot;: &quot;&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">store_fakeip</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>      &quot;</span><span style="color:#a3be8c;">store_rdrc</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>      &quot;</span><span style="color:#a3be8c;">rdrc_timeout</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">7d</span><span>&quot;
</span><span>    }
</span><span>  },
</span><span>  &quot;</span><span style="color:#a3be8c;">inbounds</span><span>&quot;: [
</span><span>    {
</span><span>      &quot;</span><span style="color:#a3be8c;">address</span><span>&quot;: [&quot;</span><span style="color:#a3be8c;">172.18.0.1/30</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">fdfe:dcba:9876::1/126</span><span>&quot;],
</span><span>      &quot;</span><span style="color:#a3be8c;">route_address</span><span>&quot;: [&quot;</span><span style="color:#a3be8c;">0.0.0.0/1</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">128.0.0.0/1</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">::/1</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">8000::/1</span><span>&quot;],
</span><span>      &quot;</span><span style="color:#a3be8c;">route_exclude_address</span><span>&quot;: [
</span><span>        &quot;</span><span style="color:#a3be8c;">192.168.0.0/16</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">10.0.0.0/8</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">172.16.0.0/12</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">fc00::/7</span><span>&quot;
</span><span>      ],
</span><span>      &quot;</span><span style="color:#a3be8c;">auto_route</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>      &quot;</span><span style="color:#a3be8c;">strict_route</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>      &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">tun</span><span>&quot;
</span><span>    },
</span><span>    {
</span><span>      &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">mixed</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">mixed-in</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">listen</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">127.0.0.1</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">listen_port</span><span>&quot;: </span><span style="color:#d08770;">10806</span><span>,
</span><span>      &quot;</span><span style="color:#a3be8c;">tcp_fast_open</span><span>&quot;: </span><span style="color:#d08770;">false</span><span>,
</span><span>      &quot;</span><span style="color:#a3be8c;">tcp_multi_path</span><span>&quot;: </span><span style="color:#d08770;">false</span><span>,
</span><span>      &quot;</span><span style="color:#a3be8c;">udp_fragment</span><span>&quot;: </span><span style="color:#d08770;">false
</span><span>    }
</span><span>  ],
</span><span>  &quot;</span><span style="color:#a3be8c;">outbounds</span><span>&quot;: [
</span><span>    {
</span><span>      &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">vless</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">vless-out</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">server</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">10.50.228.53</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">server_port</span><span>&quot;: </span><span style="color:#d08770;">13584</span><span>,
</span><span>      &quot;</span><span style="color:#a3be8c;">uuid</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">211d952d-cbef-4811-a3f0-xxxxxxxxxxxx</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">flow</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">xtls-rprx-vision</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">network</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">tcp</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">tls</span><span>&quot;: {
</span><span>          &quot;</span><span style="color:#a3be8c;">enabled</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>          &quot;</span><span style="color:#a3be8c;">disable_sni</span><span>&quot;: </span><span style="color:#d08770;">false</span><span>,
</span><span>          &quot;</span><span style="color:#a3be8c;">server_name</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">aws.amazon.com</span><span>&quot;,
</span><span>          &quot;</span><span style="color:#a3be8c;">utls</span><span>&quot;: {
</span><span>          &quot;</span><span style="color:#a3be8c;">enabled</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>          &quot;</span><span style="color:#a3be8c;">fingerprint</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">chrome</span><span>&quot;
</span><span>          },
</span><span>          &quot;</span><span style="color:#a3be8c;">reality</span><span>&quot;: {
</span><span>          &quot;</span><span style="color:#a3be8c;">enabled</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>          &quot;</span><span style="color:#a3be8c;">public_key</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">xxxxxx-3J5ReO_EpOBSix7PYhFOzaor0r8xQtEUdjS8</span><span>&quot;,
</span><span>          &quot;</span><span style="color:#a3be8c;">short_id</span><span>&quot;: &quot;&quot;
</span><span>          }
</span><span>      }
</span><span>    },
</span><span>    {
</span><span>      &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">selector</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🚀 Select</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">interrupt_exist_connections</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>      &quot;</span><span style="color:#a3be8c;">outbounds</span><span>&quot;: [
</span><span>        &quot;</span><span style="color:#a3be8c;">vless-out</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">🎈 Auto</span><span>&quot;
</span><span>      ]
</span><span>    },
</span><span>    {
</span><span>      &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">urltest</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎈 Auto</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">url</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">https://www.gstatic.com/generate_204</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">interval</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">3m</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">tolerance</span><span>&quot;: </span><span style="color:#d08770;">150</span><span>,
</span><span>      &quot;</span><span style="color:#a3be8c;">interrupt_exist_connections</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>      &quot;</span><span style="color:#a3be8c;">outbounds</span><span>&quot;: [
</span><span>        &quot;</span><span style="color:#a3be8c;">vless-out</span><span>&quot;
</span><span>      ]
</span><span>    },
</span><span>    {
</span><span>      &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">direct</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>    },
</span><span>    {
</span><span>      &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">selector</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🐟 Fallback</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">interrupt_exist_connections</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>      &quot;</span><span style="color:#a3be8c;">outbounds</span><span>&quot;: [
</span><span>        &quot;</span><span style="color:#a3be8c;">🚀 Select</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      ]
</span><span>    },
</span><span>    {
</span><span>      &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">selector</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">GLOBAL</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">interrupt_exist_connections</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>      &quot;</span><span style="color:#a3be8c;">outbounds</span><span>&quot;: [
</span><span>        &quot;</span><span style="color:#a3be8c;">🚀 Select</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">🎈 Auto</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">🐟 Fallback</span><span>&quot;
</span><span>      ]
</span><span>    },
</span><span>  ],
</span><span>  &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;: {
</span><span>    &quot;</span><span style="color:#a3be8c;">rules</span><span>&quot;: [
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">hijack-dns</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">protocol</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">dns</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">clash_mode</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">direct</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">outbound</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">clash_mode</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">global</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">outbound</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">GLOBAL</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">network</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">icmp</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">outbound</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">reject</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">protocol</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">quic</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">reject</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">rule_set</span><span>&quot;: [
</span><span>          &quot;</span><span style="color:#a3be8c;">Category-Ads</span><span>&quot;
</span><span>        ]
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">rule_set</span><span>&quot;: [
</span><span>          &quot;</span><span style="color:#a3be8c;">GeoSite-Private</span><span>&quot;
</span><span>        ],
</span><span>        &quot;</span><span style="color:#a3be8c;">outbound</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">rule_set</span><span>&quot;: [
</span><span>          &quot;</span><span style="color:#a3be8c;">GeoSite-CN</span><span>&quot;
</span><span>        ],
</span><span>        &quot;</span><span style="color:#a3be8c;">outbound</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">rule_set</span><span>&quot;: [
</span><span>          &quot;</span><span style="color:#a3be8c;">GeoIP-Private</span><span>&quot;
</span><span>        ],
</span><span>        &quot;</span><span style="color:#a3be8c;">outbound</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">rule_set</span><span>&quot;: [
</span><span>          &quot;</span><span style="color:#a3be8c;">GeoIP-CN</span><span>&quot;
</span><span>        ],
</span><span>        &quot;</span><span style="color:#a3be8c;">outbound</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">rule_set</span><span>&quot;: [
</span><span>          &quot;</span><span style="color:#a3be8c;">GeoLocation-!CN</span><span>&quot;
</span><span>        ],
</span><span>        &quot;</span><span style="color:#a3be8c;">outbound</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🚀 Select</span><span>&quot;
</span><span>      }
</span><span>    ],
</span><span>    &quot;</span><span style="color:#a3be8c;">rule_set</span><span>&quot;: [
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Category-Ads</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">remote</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">url</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/category-ads-all.srs</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">format</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">binary</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">download_detour</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">GeoIP-Private</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">remote</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">url</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/private.srs</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">format</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">binary</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">download_detour</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">GeoSite-Private</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">remote</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">url</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/private.srs</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">format</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">binary</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">download_detour</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">GeoIP-CN</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">remote</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">url</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/cn.srs</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">format</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">binary</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">download_detour</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">GeoSite-CN</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">remote</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">url</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/cn.srs</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">format</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">binary</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">download_detour</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">GeoLocation-!CN</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">remote</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">url</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-!cn.srs</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">format</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">binary</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">download_detour</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      }
</span><span>    ],
</span><span>    &quot;</span><span style="color:#a3be8c;">auto_detect_interface</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>    &quot;</span><span style="color:#a3be8c;">final</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🐟 Fallback</span><span>&quot;,
</span><span>    &quot;</span><span style="color:#a3be8c;">default_domain_resolver</span><span>&quot;: {
</span><span>      &quot;</span><span style="color:#a3be8c;">server</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Local-DNS</span><span>&quot;
</span><span>    }
</span><span>  },
</span><span>  &quot;</span><span style="color:#a3be8c;">dns</span><span>&quot;: {
</span><span>    &quot;</span><span style="color:#a3be8c;">servers</span><span>&quot;: [
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Local-DNS</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">https</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">domain_resolver</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Local-DNS-Resolver</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">server_port</span><span>&quot;: </span><span style="color:#d08770;">443</span><span>,
</span><span>        &quot;</span><span style="color:#a3be8c;">server</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">223.5.5.5</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">path</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">/dns-query</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Local-DNS-Resolver</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">udp</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">server_port</span><span>&quot;: </span><span style="color:#d08770;">53</span><span>,
</span><span>        &quot;</span><span style="color:#a3be8c;">server</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">223.5.5.5</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Remote-DNS</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">tls</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">detour</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🚀 Select</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">domain_resolver</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Remote-DNS-Resolver</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">server_port</span><span>&quot;: </span><span style="color:#d08770;">853</span><span>,
</span><span>        &quot;</span><span style="color:#a3be8c;">server</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">8.8.8.8</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Remote-DNS-Resolver</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">udp</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">detour</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🚀 Select</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">server_port</span><span>&quot;: </span><span style="color:#d08770;">53</span><span>,
</span><span>        &quot;</span><span style="color:#a3be8c;">server</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">8.8.8.8</span><span>&quot;
</span><span>      }
</span><span>    ],
</span><span>    &quot;</span><span style="color:#a3be8c;">rules</span><span>&quot;: [
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">clash_mode</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">direct</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">server</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Local-DNS</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">clash_mode</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">global</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">server</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Remote-DNS</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">rule_set</span><span>&quot;: [
</span><span>          &quot;</span><span style="color:#a3be8c;">GeoSite-CN</span><span>&quot;
</span><span>        ],
</span><span>        &quot;</span><span style="color:#a3be8c;">server</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Local-DNS</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">rule_set</span><span>&quot;: [
</span><span>          &quot;</span><span style="color:#a3be8c;">GeoLocation-!CN</span><span>&quot;
</span><span>        ],
</span><span>        &quot;</span><span style="color:#a3be8c;">server</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Remote-DNS</span><span>&quot;
</span><span>      }
</span><span>    ],
</span><span>    &quot;</span><span style="color:#a3be8c;">disable_cache</span><span>&quot;: </span><span style="color:#d08770;">false</span><span>,
</span><span>    &quot;</span><span style="color:#a3be8c;">disable_expire</span><span>&quot;: </span><span style="color:#d08770;">false</span><span>,
</span><span>    &quot;</span><span style="color:#a3be8c;">independent_cache</span><span>&quot;: </span><span style="color:#d08770;">false</span><span>,
</span><span>    &quot;</span><span style="color:#a3be8c;">final</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Remote-DNS</span><span>&quot;
</span><span>  }
</span><span>}
</span><span>EOF
</span></code></pre>
<h1 id="andriod-ban-ben-shi-yong">andriod 版本使用</h1>
<pre data-lang="json" style="background-color:#2b303b;color:#c0c5ce;" class="language-json "><code class="language-json" data-lang="json"><span>{
</span><span>  &quot;</span><span style="color:#a3be8c;">log</span><span>&quot;: {
</span><span>    &quot;</span><span style="color:#a3be8c;">disabled</span><span>&quot;: </span><span style="color:#d08770;">false</span><span>,
</span><span>    &quot;</span><span style="color:#a3be8c;">level</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">debug</span><span>&quot;,
</span><span>    &quot;</span><span style="color:#a3be8c;">output</span><span>&quot;: &quot;&quot;,
</span><span>    &quot;</span><span style="color:#a3be8c;">timestamp</span><span>&quot;: </span><span style="color:#d08770;">true
</span><span>  },
</span><span>  &quot;</span><span style="color:#a3be8c;">inbounds</span><span>&quot;: [
</span><span>    {
</span><span>      &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">tun</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">address</span><span>&quot;: [&quot;</span><span style="color:#a3be8c;">172.19.0.1/30</span><span>&quot;],
</span><span>      &quot;</span><span style="color:#a3be8c;">auto_route</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>      </span><span style="color:#65737e;">// &quot;auto_redirect&quot;: true, // On linux
</span><span>      &quot;</span><span style="color:#a3be8c;">strict_route</span><span>&quot;: </span><span style="color:#d08770;">true
</span><span>    }
</span><span>  ],
</span><span>  &quot;</span><span style="color:#a3be8c;">outbounds</span><span>&quot;: [
</span><span>    {
</span><span>      &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">selector</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🚀 Select</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">interrupt_exist_connections</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>      &quot;</span><span style="color:#a3be8c;">outbounds</span><span>&quot;: [
</span><span>        &quot;</span><span style="color:#a3be8c;">vless-out</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">🎈 Auto</span><span>&quot;
</span><span>      ]
</span><span>    },
</span><span>    {
</span><span>      &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">urltest</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎈 Auto</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">url</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">https://www.gstatic.com/generate_204</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">interval</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">3m</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">tolerance</span><span>&quot;: </span><span style="color:#d08770;">150</span><span>,
</span><span>      &quot;</span><span style="color:#a3be8c;">interrupt_exist_connections</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>      &quot;</span><span style="color:#a3be8c;">outbounds</span><span>&quot;: [
</span><span>        &quot;</span><span style="color:#a3be8c;">vless-out</span><span>&quot;
</span><span>      ]
</span><span>    },
</span><span>    {
</span><span>      &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">direct</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>    },
</span><span>    {
</span><span>      &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">selector</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🐟 Fallback</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">interrupt_exist_connections</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>      &quot;</span><span style="color:#a3be8c;">outbounds</span><span>&quot;: [
</span><span>        &quot;</span><span style="color:#a3be8c;">🚀 Select</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      ]
</span><span>    },
</span><span>    {
</span><span>      &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">selector</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">GLOBAL</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">interrupt_exist_connections</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>      &quot;</span><span style="color:#a3be8c;">outbounds</span><span>&quot;: [
</span><span>        &quot;</span><span style="color:#a3be8c;">🚀 Select</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">🎈 Auto</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">🐟 Fallback</span><span>&quot;
</span><span>      ]
</span><span>    },
</span><span>    {
</span><span>      &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">vless</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">vless-out</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">server</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">10.50.228.53</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">server_port</span><span>&quot;: </span><span style="color:#d08770;">13584</span><span>,
</span><span>      &quot;</span><span style="color:#a3be8c;">uuid</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">211d952d-cbef-4811-a3f0-xxxxxxxxxxxx</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">flow</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">xtls-rprx-vision</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">network</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">tcp</span><span>&quot;,
</span><span>      &quot;</span><span style="color:#a3be8c;">tls</span><span>&quot;: {
</span><span>        &quot;</span><span style="color:#a3be8c;">enabled</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>        &quot;</span><span style="color:#a3be8c;">disable_sni</span><span>&quot;: </span><span style="color:#d08770;">false</span><span>,
</span><span>        &quot;</span><span style="color:#a3be8c;">server_name</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">aws.amazon.com</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">utls</span><span>&quot;: {
</span><span>          &quot;</span><span style="color:#a3be8c;">enabled</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>          &quot;</span><span style="color:#a3be8c;">fingerprint</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">chrome</span><span>&quot;
</span><span>        },
</span><span>        &quot;</span><span style="color:#a3be8c;">reality</span><span>&quot;: {
</span><span>          &quot;</span><span style="color:#a3be8c;">enabled</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>          &quot;</span><span style="color:#a3be8c;">public_key</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Uqr4g5-3J5ReO_EpOBSix7PYhxxxxxxxxxxxxxxxxxx</span><span>&quot;,
</span><span>          &quot;</span><span style="color:#a3be8c;">short_id</span><span>&quot;: &quot;&quot;
</span><span>        }
</span><span>      }
</span><span>    }
</span><span>  ],
</span><span>  &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;: {
</span><span>    &quot;</span><span style="color:#a3be8c;">rules</span><span>&quot;: [
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">hijack-dns</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">protocol</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">dns</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">clash_mode</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">direct</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">outbound</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">clash_mode</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">global</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">outbound</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">GLOBAL</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">network</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">icmp</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">outbound</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">reject</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">protocol</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">quic</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">reject</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">rule_set</span><span>&quot;: [
</span><span>          &quot;</span><span style="color:#a3be8c;">Category-Ads</span><span>&quot;
</span><span>        ]
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">rule_set</span><span>&quot;: [
</span><span>          &quot;</span><span style="color:#a3be8c;">GeoSite-Private</span><span>&quot;
</span><span>        ],
</span><span>        &quot;</span><span style="color:#a3be8c;">outbound</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">rule_set</span><span>&quot;: [
</span><span>          &quot;</span><span style="color:#a3be8c;">GeoSite-CN</span><span>&quot;
</span><span>        ],
</span><span>        &quot;</span><span style="color:#a3be8c;">outbound</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">rule_set</span><span>&quot;: [
</span><span>          &quot;</span><span style="color:#a3be8c;">GeoIP-Private</span><span>&quot;
</span><span>        ],
</span><span>        &quot;</span><span style="color:#a3be8c;">outbound</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">rule_set</span><span>&quot;: [
</span><span>          &quot;</span><span style="color:#a3be8c;">GeoIP-CN</span><span>&quot;
</span><span>        ],
</span><span>        &quot;</span><span style="color:#a3be8c;">outbound</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">rule_set</span><span>&quot;: [
</span><span>          &quot;</span><span style="color:#a3be8c;">GeoLocation-!CN</span><span>&quot;
</span><span>        ],
</span><span>        &quot;</span><span style="color:#a3be8c;">outbound</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🚀 Select</span><span>&quot;
</span><span>      }
</span><span>    ],
</span><span>    &quot;</span><span style="color:#a3be8c;">rule_set</span><span>&quot;: [
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Category-Ads</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">remote</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">url</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/category-ads-all.srs</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">format</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">binary</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">download_detour</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">GeoIP-Private</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">remote</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">url</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/private.srs</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">format</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">binary</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">download_detour</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">GeoSite-Private</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">remote</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">url</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/private.srs</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">format</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">binary</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">download_detour</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">GeoIP-CN</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">remote</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">url</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/cn.srs</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">format</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">binary</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">download_detour</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">GeoSite-CN</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">remote</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">url</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/cn.srs</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">format</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">binary</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">download_detour</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">GeoLocation-!CN</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">remote</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">url</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-!cn.srs</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">format</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">binary</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">download_detour</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🎯 Direct</span><span>&quot;
</span><span>      }
</span><span>    ],
</span><span>    &quot;</span><span style="color:#a3be8c;">auto_detect_interface</span><span>&quot;: </span><span style="color:#d08770;">true</span><span>,
</span><span>    &quot;</span><span style="color:#a3be8c;">final</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🐟 Fallback</span><span>&quot;,
</span><span>    &quot;</span><span style="color:#a3be8c;">default_domain_resolver</span><span>&quot;: {
</span><span>      &quot;</span><span style="color:#a3be8c;">server</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Local-DNS</span><span>&quot;
</span><span>    }
</span><span>  },
</span><span>  &quot;</span><span style="color:#a3be8c;">dns</span><span>&quot;: {
</span><span>    &quot;</span><span style="color:#a3be8c;">servers</span><span>&quot;: [
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Local-DNS</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">https</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">domain_resolver</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Local-DNS-Resolver</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">server_port</span><span>&quot;: </span><span style="color:#d08770;">443</span><span>,
</span><span>        &quot;</span><span style="color:#a3be8c;">server</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">223.5.5.5</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">path</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">/dns-query</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Local-DNS-Resolver</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">udp</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">server_port</span><span>&quot;: </span><span style="color:#d08770;">53</span><span>,
</span><span>        &quot;</span><span style="color:#a3be8c;">server</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">223.5.5.5</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Remote-DNS</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">tls</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">detour</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🚀 Select</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">domain_resolver</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Remote-DNS-Resolver</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">server_port</span><span>&quot;: </span><span style="color:#d08770;">853</span><span>,
</span><span>        &quot;</span><span style="color:#a3be8c;">server</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">8.8.8.8</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">tag</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Remote-DNS-Resolver</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">type</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">udp</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">detour</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">🚀 Select</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">server_port</span><span>&quot;: </span><span style="color:#d08770;">53</span><span>,
</span><span>        &quot;</span><span style="color:#a3be8c;">server</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">8.8.8.8</span><span>&quot;
</span><span>      }
</span><span>    ],
</span><span>    &quot;</span><span style="color:#a3be8c;">rules</span><span>&quot;: [
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">clash_mode</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">direct</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">server</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Local-DNS</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">clash_mode</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">global</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">server</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Remote-DNS</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">rule_set</span><span>&quot;: [
</span><span>          &quot;</span><span style="color:#a3be8c;">GeoSite-CN</span><span>&quot;
</span><span>        ],
</span><span>        &quot;</span><span style="color:#a3be8c;">server</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Local-DNS</span><span>&quot;
</span><span>      },
</span><span>      {
</span><span>        &quot;</span><span style="color:#a3be8c;">action</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">route</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">rule_set</span><span>&quot;: [
</span><span>          &quot;</span><span style="color:#a3be8c;">GeoLocation-!CN</span><span>&quot;
</span><span>        ],
</span><span>        &quot;</span><span style="color:#a3be8c;">server</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Remote-DNS</span><span>&quot;
</span><span>      }
</span><span>    ],
</span><span>    &quot;</span><span style="color:#a3be8c;">disable_cache</span><span>&quot;: </span><span style="color:#d08770;">false</span><span>,
</span><span>    &quot;</span><span style="color:#a3be8c;">disable_expire</span><span>&quot;: </span><span style="color:#d08770;">false</span><span>,
</span><span>    &quot;</span><span style="color:#a3be8c;">independent_cache</span><span>&quot;: </span><span style="color:#d08770;">false</span><span>,
</span><span>    &quot;</span><span style="color:#a3be8c;">final</span><span>&quot;: &quot;</span><span style="color:#a3be8c;">Remote-DNS</span><span>&quot;
</span><span>  }
</span><span>}
</span></code></pre>
</section>
  <hr />
  <!-- Post Taxonomies -->
<footer class="mt-12 flex flex-col" tabindex="-1" accesskey="_">
  <div class="mb-2 flex flex-wrap">
    <span class="block-bg mb-1.5 mr-1.5 rounded-lg px-5 py-1.5">Tags</span>
    
    <a
      class="block-bg block-hover mb-1.5 mr-1.5 rounded-lg px-5 py-1.5 no-underline"
      href="https://blog.moxuetianya.com/tags/anytls/">anytls</a>
    
    <a
      class="block-bg block-hover mb-1.5 mr-1.5 rounded-lg px-5 py-1.5 no-underline"
      href="https://blog.moxuetianya.com/tags/reality/">reality</a>
    
    <a
      class="block-bg block-hover mb-1.5 mr-1.5 rounded-lg px-5 py-1.5 no-underline"
      href="https://blog.moxuetianya.com/tags/sing-box/">sing-box</a>
    
  </div>
</footer>

  <!-- Post Nav -->
<nav class="block-bg mt-12 flex flex-wrap rounded-lg text-lg">
  <a
    class="block-hover-mask flex min-w-[50%] grow items-center rounded-l-md p-6 pr-3 font-semibold no-underline"
    href="https://blog.moxuetianya.com/2025/10/learn/233boy sing-box 脚本使用/" accesskey=","
    ><span class="mr-1.5">&#8249;</span><span>233boy sing-box脚本使用</span></a>
  <a
    class="block-hover-mask ml-auto flex min-w-[50%] grow items-center justify-end rounded-r-md p-6 pl-3 font-semibold no-underline"
    href="https://blog.moxuetianya.com/2025/08/learn/tcpdump 抓包sing-box流量/" accesskey="."
    ><span>tcpdump 抓包sing-box流量</span><span class="ml-1.5">&#8250;</span></a>
</nav>

  <!-- Begin Page End inject -->
  
  <!-- End Page End inject -->
</article>

  </main>
  <!-- Footer -->
<footer class="mx-auto flex lg:mt-5 max-w-3xl flex-wrap items-center px-4 py-3 text-sm opacity-60">
  <div class="mr-auto basis-full lg:basis-1/2">
  © <time datetime="2025">2025</time> moxuetianya
  </div>
  <div class="flex basis-full lg:basis-1/2 lg:justify-end">
    <span class="mr-6 lg:ml-6">
      <a class="link" href="https://www.getzola.org/" target="_blank">Powered by Zola</a>
    </span>
    <a class="link" href="https://www.getzola.org/themes/linkita/" target="_blank">&#9998; Linkita</a>
  </div>
  <!-- Begin Footer inject -->
  
  <!-- End Footer inject -->
</footer>

  

  <!-- Begin Body End inject -->
  
  <!-- End Body End inject -->
</body>

</html>
