<!doctype html>
<html class="not-ready lg:text-base overflow-y-scroll scroll-pt-14" lang="en">

<head prefix="og: https://ogp.me/ns# article: https://ogp.me/ns/article#">
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="generator" content="Zola" />
  <title>æ„é€ edidå†…æ ¸å‚æ•° åˆ›å»ºè™šæ‹Ÿæ˜¾ç¤ºå™¨</title>
  <meta property="og:title" content="æ„é€ edidå†…æ ¸å‚æ•° åˆ›å»ºè™šæ‹Ÿæ˜¾ç¤ºå™¨" />
  <meta property="og:url" content="https://blog.moxuetianya.com/2025/11/æ„é€ edidå†…æ ¸å‚æ•° åˆ›å»ºè™šæ‹Ÿæ˜¾ç¤ºå™¨/" />
  <link rel="canonical" href="https://blog.moxuetianya.com/2025/11/æ„é€ edidå†…æ ¸å‚æ•° åˆ›å»ºè™šæ‹Ÿæ˜¾ç¤ºå™¨/" />
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2025-11-22T23:30:38+08:00" />
  <meta property="article:tag" content="edid" />
  <!-- Begin Head inject -->
  
  <!-- End Head inject -->
  <link rel="stylesheet" href="https://blog.moxuetianya.com/main.min.css?h=fc65ba308cf36d3ba82c" />
  <style>
  :root{--bg: #f4f4f5; --header: #e4e4e7; color-scheme: light;}
  :root.dark{--bg: #18181b; --header: #27272a; color-scheme: dark;}
  </style>
  <meta name="theme-color" data-light="#e4e4e7" data-dark="#27272a" content="#e4e4e7" />
  <link rel="icon" type="image/x-icon" sizes="16x16" href="https://blog.moxuetianya.com/favicon.ico" />
  <link rel="apple-touch-icon" type="image/png" href="https://blog.moxuetianya.com/apple-touch-icon.png?h=58bee300054c5308feb3" />
  <link rel="icon" type="image/png" href="https://blog.moxuetianya.com/android-icon.png?h=8d80ec95446bd2c36826" />
  <script src="https://blog.moxuetianya.com/js/linkita.min.js?h=1dd3ed42fc674277bc34"></script>
  <script src="https://blog.moxuetianya.com/js/linkita-search.min.js?h=698547b4b081d012c661"></script>
  <!-- Begin Head End inject -->
  
  <!-- End Head End inject -->
</head>

<body class="text-black duration-100 ease-out bg-[var(--bg)] dark:text-white">
  <!-- Header -->
<header class="bg-[var(--header)] fixed top-0 z-40 mx-auto min-h-[3.25rem] w-full header-icons">
  <div class="mx-auto w-full max-w-4xl p-2.5 lg:flex lg:justify-between">
    <div class="flex justify-between">
      <div class="flex items-center min-h-8">
        <button type="button" title="Go to home page" accesskey="!"
          onclick="window.location.href='https://blog.moxuetianya.com/';"
          class="btn-home h-6 w-6 shrink-0 cursor-pointer text-[0] bg-center bg-no-repeat bg-cover [background-image:var(--icon-home)] dark:invert"
        ></button>
        <button type="button" title="Switch color scheme" accesskey="$"
          onclick="window.linkita.toggleDarkMode();" ondblclick="window.linkita.resetDarkMode();"
          class="btn-dark ml-4 h-6 w-6 shrink-0 cursor-pointer text-[0] bg-center bg-no-repeat bg-cover dark:invert [background-image:var(--icon-theme-dark)] dark:[background-image:var(--icon-theme-light)]"
        ></button>
        <button type="button" title="Search" accesskey="/"
          onclick="window.linkita.toggleSearch();"
          class="btn-search ml-4 h-6 w-6 shrink-0 cursor-pointer text-[0] bg-center bg-no-repeat bg-cover [background-image:var(--icon-search)] dark:invert"
        ></button>
        <script>window.linkita.initSearchButton({ scripts: ["https://blog.moxuetianya.com/elasticlunr.min.js", "https://blog.moxuetianya.com/search_index.en.js"] });</script>
      </div>
    </div>
  </div>
</header>

  <!-- Begin Body Start inject -->
  
  <!-- End Body Start inject -->
  <main class="prose prose-neutral relative mx-auto min-h-[calc(100%-4rem)]
    max-w-3xl break-words px-4 pb-12 pt-28 lg:pt-32 dark:prose-invert prose-pre:rounded-lg prose-img:rounded-lg">
      <!-- Search -->
<div id="linkita-search-wrapper" class="hidden">
  <ul id="linkita-search-results"></ul>
</div>

    
<article>
  <!-- Begin Page Start inject -->
  
  <!-- End Page Start inject -->

  <header class="mb-16">
    <h1 class="!my-0 pb-2.5">æ„é€ edidå†…æ ¸å‚æ•° åˆ›å»ºè™šæ‹Ÿæ˜¾ç¤ºå™¨</h1>
    <!-- Page Info -->
<div class="text-sm antialiased opacity-80"><time
      datetime="2025-11-22T23:30:38+08:00">2025-11-22</time><span
        class="mx-1">&middot;</span><time
    datetime="PT0H6M0S">6&nbsp;min</time>
</div>

  </header>
  <!-- TOC -->
<div class="block-bg mb-12 rounded-lg p-2 text-lg">
  <details>
    <summary class="select-none py-0.5 lg:py-1 pl-4" accesskey="=">
      <span class="cursor-pointer">Table of Contents</span>
    </summary>
    <div class="px-2">
      <ul>
        <li>
          <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/11/æ„é€ edidå†…æ ¸å‚æ•° åˆ›å»ºè™šæ‹Ÿæ˜¾ç¤ºå™¨/#nei-he-ji-xu-ni-xian-shi-qi-tui-jian-wu-xu-ying-jian-yong-jiu-sheng-xiao">å†…æ ¸çº§è™šæ‹Ÿæ˜¾ç¤ºå™¨ï¼ˆæ¨èï¼æ— éœ€ç¡¬ä»¶ï¼Œæ°¸ä¹…ç”Ÿæ•ˆï¼‰</a>
          <ul>
            <li>
              <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/11/æ„é€ edidå†…æ ¸å‚æ•° åˆ›å»ºè™šæ‹Ÿæ˜¾ç¤ºå™¨/#sheng-cheng-yi-ge-biao-zhun-edid-li-ru-1920x1080">ç”Ÿæˆä¸€ä¸ªæ ‡å‡† EDIDï¼ˆä¾‹å¦‚ 1920x1080ï¼‰</a>
            </li>
            <li>
              <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/11/æ„é€ edidå†…æ ¸å‚æ•° åˆ›å»ºè™šæ‹Ÿæ˜¾ç¤ºå™¨/#fu-zhi-dao-gu-jian-mu-lu">å¤åˆ¶åˆ°å›ºä»¶ç›®å½•</a>
            </li>
            <li>
              <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/11/æ„é€ edidå†…æ ¸å‚æ•° åˆ›å»ºè™šæ‹Ÿæ˜¾ç¤ºå™¨/#tian-jia-nei-he-qi-dong-can-shu-yong-jiu-sheng-xiao">æ·»åŠ å†…æ ¸å¯åŠ¨å‚æ•°ï¼ˆæ°¸ä¹…ç”Ÿæ•ˆï¼‰</a>
            </li>
          </ul>
        </li>
        <li>
          <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/11/æ„é€ edidå†…æ ¸å‚æ•° åˆ›å»ºè™šæ‹Ÿæ˜¾ç¤ºå™¨/#zhi-jie-shi-yong-dpwu-li-xian-shi-qi-de-edid">ç›´æ¥ä½¿ç”¨dpç‰©ç†æ˜¾ç¤ºå™¨çš„edid</a>
          <ul>
            <li>
              <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/11/æ„é€ edidå†…æ ¸å‚æ•° åˆ›å»ºè™šæ‹Ÿæ˜¾ç¤ºå™¨/#pai-cha-wei-shen-me-fen-bian-lu-da-bu-dao-edidzhong-de-pei-zhi">æ’æŸ¥ä¸ºä»€ä¹ˆåˆ†è¾¨ç‡è¾¾ä¸åˆ°edidä¸­çš„é…ç½®</a>
            </li>
            <li>
              <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/11/æ„é€ edidå†…æ ¸å‚æ•° åˆ›å»ºè™šæ‹Ÿæ˜¾ç¤ºå™¨/#edid-firmware-he-video-can-shu-han-yi">edid_firmware å’Œvideo å‚æ•°å«ä¹‰</a>
            </li>
          </ul>
        </li>
        <li>
          <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/11/æ„é€ edidå†…æ ¸å‚æ•° åˆ›å»ºè™šæ‹Ÿæ˜¾ç¤ºå™¨/#zi-ding-yi-edid-sheng-cheng">è‡ªå®šä¹‰ EDID ç”Ÿæˆ</a>
          <ul>
            <li>
              <a class="no-underline hover:underline" href="https://blog.moxuetianya.com/2025/11/æ„é€ edidå†…æ ¸å‚æ•° åˆ›å»ºè™šæ‹Ÿæ˜¾ç¤ºå™¨/#fang-fa-yong-cvt-parse-edid-edid-generator">æ–¹æ³•ï¼šç”¨ cvt + parse-edid + edid-generator</a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </details>
</div>

  <!-- Content -->
  <section><h1 id="nei-he-ji-xu-ni-xian-shi-qi-tui-jian-wu-xu-ying-jian-yong-jiu-sheng-xiao">å†…æ ¸çº§è™šæ‹Ÿæ˜¾ç¤ºå™¨ï¼ˆæ¨èï¼æ— éœ€ç¡¬ä»¶ï¼Œæ°¸ä¹…ç”Ÿæ•ˆï¼‰</h1>
<ul>
<li>é€‰æ‹©ä¸€ä¸ªæ²¡æœ‰ç‰©ç†æ˜¾ç¤ºå™¨çš„æ¥å£(é€»è¾‘æ¥å£)</li>
<li>ä½¿ç”¨ drm_kms_helper.edid_firmware + è‡ªå®šä¹‰ EDID</li>
</ul>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#b48ead;">for</span><span> p </span><span style="color:#b48ead;">in</span><span> /sys/class/drm/*/status; </span><span style="color:#b48ead;">do </span><span style="color:#bf616a;">con</span><span>=$</span><span style="color:#a3be8c;">{</span><span style="color:#bf616a;">p</span><span>%</span><span style="color:#a3be8c;">/status}</span><span>; </span><span style="color:#96b5b4;">echo </span><span style="color:#bf616a;">-n </span><span>&quot;$</span><span style="color:#a3be8c;">{</span><span style="color:#bf616a;">con</span><span>#*</span><span style="color:#a3be8c;">/card</span><span>?</span><span style="color:#a3be8c;">-}: </span><span>&quot;; </span><span style="color:#bf616a;">cat </span><span>$</span><span style="color:#bf616a;">p</span><span>; </span><span style="color:#b48ead;">done
</span></code></pre>
<h2 id="sheng-cheng-yi-ge-biao-zhun-edid-li-ru-1920x1080">ç”Ÿæˆä¸€ä¸ªæ ‡å‡† EDIDï¼ˆä¾‹å¦‚ 1920x1080ï¼‰</h2>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># å®‰è£… edid-decodeï¼ˆDebian/Ubuntuï¼‰
</span><span style="color:#bf616a;">sudo</span><span> apt install edid-decode
</span><span style="color:#65737e;"># åˆ›å»º 1920x1080 EDID æ–‡ä»¶ï¼ˆæ ‡å‡† 60Hzï¼‰
</span><span style="color:#bf616a;">cat </span><span>&gt; custom-edid.bin &lt;&lt;&#39;</span><span style="color:#b48ead;">EOF</span><span>&#39;
</span><span style="color:#a3be8c;">00ffffffffffff004c2dd707ffffffffff
</span><span style="color:#a3be8c;">141a0104a51e177802ee95a3544c9926
</span><span style="color:#a3be8c;">0f5054bfef80714f81c0810081809500
</span><span style="color:#a3be8c;">a9c0b300950f023a801871382d40582c
</span><span style="color:#a3be8c;">4500dd0c1100001e000000ff004c6170
</span><span style="color:#a3be8c;">746f702d303030300a20000000fc0044
</span><span style="color:#a3be8c;">656c6c205532343139480a20000000fd
</span><span style="color:#a3be8c;">00184c1e5111000a2020202020202020
</span><span style="color:#a3be8c;">000000ff004c6170746f702d30303030
</span><span style="color:#a3be8c;">0a200088
</span><span style="color:#b48ead;">EOF
</span><span>
</span><span style="color:#65737e;"># è½¬ä¸ºäºŒè¿›åˆ¶ï¼ˆä¸Šè¿°å·²æ˜¯ hexdump -C æ ¼å¼ï¼Œéœ€ decodeï¼‰
</span><span style="color:#bf616a;">xxd -r -p </span><span>&gt; edid.bin &lt;&lt;&#39;</span><span style="color:#b48ead;">EOF</span><span>&#39;
</span><span style="color:#a3be8c;">00ffffffffffff004c2dd707ffffffffff141a0104a51e177802ee95a3544c99260f5054bfef80714f81c0810081809500a9c0b300950f023a801871382d40582c4500dd0c1100001e000000ff004c6170746f702d303030300a20000000fc0044656c6c205532343139480a20000000fd00184c1e5111000a2020202020202020000000ff004c6170746f702d303030300a200088
</span><span style="color:#b48ead;">EOF
</span></code></pre>
<p>è¿™æ˜¯ä¸€ä¸ªæ ‡å‡† Dell U2419H çš„ EDIDï¼ˆ1920x1080@60Hzï¼‰ï¼Œä½ å¯ç”¨<a href="https://tomverbeure.github.io/video_timings_calculator?horiz_pixels=640&amp;vert_pixels=480&amp;refresh_rate=60&amp;margins=false&amp;interlaced=false&amp;bpc=8&amp;color_fmt=rgb444&amp;video_opt=false&amp;custom_hblank=80&amp;custom_vblank=6">åœ¨çº¿å·¥å…·</a>ç”Ÿæˆä»»æ„åˆ†è¾¨ç‡</p>
<h2 id="fu-zhi-dao-gu-jian-mu-lu">å¤åˆ¶åˆ°å›ºä»¶ç›®å½•</h2>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">sudo</span><span> mkdir</span><span style="color:#bf616a;"> -p</span><span> /lib/firmware/edid/
</span><span style="color:#bf616a;">sudo</span><span> cp edid.bin /lib/firmware/edid/virtual-edid.bin
</span><span style="color:#65737e;"># æ›´æ–° initramfsï¼ˆUbuntu/Debianï¼‰
</span><span style="color:#bf616a;">sudo</span><span> update-initramfs</span><span style="color:#bf616a;"> -u 
</span><span style="color:#65737e;"># CentOS/RHEL/Fedora
</span><span style="color:#bf616a;">sudo</span><span> dracut</span><span style="color:#bf616a;"> --force
</span></code></pre>
<h2 id="tian-jia-nei-he-qi-dong-can-shu-yong-jiu-sheng-xiao">æ·»åŠ å†…æ ¸å¯åŠ¨å‚æ•°ï¼ˆæ°¸ä¹…ç”Ÿæ•ˆï¼‰</h2>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># ç¼–è¾‘ GRUB é…ç½®
</span><span style="color:#bf616a;">sudo</span><span> nano /etc/default/grub
</span><span style="color:#bf616a;">RUB_CMDLINE_LINUX</span><span>=&quot;</span><span style="color:#a3be8c;">... drm_kms_helper.edid_firmware=edid/virtual-edid.bin video=Virtual-1:1920x1080@60</span><span>&quot;
</span><span style="color:#65737e;"># æ›´æ–° GRUB
</span><span style="color:#bf616a;">sudo</span><span> update-grub   </span><span style="color:#65737e;"># Debian/Ubuntu
</span><span style="color:#bf616a;">sudo</span><span> grub2-mkconfig</span><span style="color:#bf616a;"> -o</span><span> /boot/grub2/grub.cfg  </span><span style="color:#65737e;"># RHEL
</span></code></pre>
<h1 id="zhi-jie-shi-yong-dpwu-li-xian-shi-qi-de-edid">ç›´æ¥ä½¿ç”¨dpç‰©ç†æ˜¾ç¤ºå™¨çš„edid</h1>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">sudo</span><span> cat /sys/class/drm/card0-DP-1/edid &gt; /tmp/dp-edid.bin
</span><span style="color:#65737e;"># éªŒè¯å†…å®¹ï¼ˆåº”çœ‹åˆ°æ˜¾ç¤ºå™¨å‹å·ï¼‰
</span><span style="color:#bf616a;">edid-decode</span><span> /tmp/dp-edid.bin | </span><span style="color:#bf616a;">grep -E </span><span>&quot;</span><span style="color:#a3be8c;">Manufacturer|Model|Name</span><span>&quot;
</span><span style="color:#bf616a;">sudo</span><span> mkdir</span><span style="color:#bf616a;"> -p</span><span> /lib/firmware/edid/
</span><span style="color:#65737e;"># å¤åˆ¶ EDIDï¼ˆå‘½åä¸º hdmi-edid.binï¼Œæ¸…æ™°è¡¨æ˜ç”¨é€”ï¼‰
</span><span style="color:#bf616a;">sudo</span><span> cp /tmp/dp-edid.bin /lib/firmware/edid/hdmi-edid.bin
</span><span style="color:#65737e;"># æ›´æ–° initramfsï¼ˆç¡®ä¿å¼€æœºåŠ è½½ï¼‰
</span><span style="color:#bf616a;">sudo</span><span> update-initramfs</span><span style="color:#bf616a;"> -u   </span><span style="color:#65737e;"># Debian/Ubuntu
</span><span style="color:#bf616a;">sudo</span><span> dracut</span><span style="color:#bf616a;"> --force        </span><span style="color:#65737e;"># RHEL/Fedora
</span><span>
</span><span style="color:#65737e;"># ç¼–è¾‘ GRUB
</span><span style="color:#bf616a;">sudo</span><span> nano /etc/default/grub
</span><span style="color:#bf616a;">GRUB_CMDLINE_LINUX</span><span>=&quot;</span><span style="color:#a3be8c;">... drm_kms_helper.edid_firmware=HDMI-A-1:edid/hdmi-edid.bin video=HDMI-A-1:1920x1080@60</span><span>&quot;
</span><span style="color:#65737e;"># drm.edid_firmware=HDMI-A-1:edid/HDMI-A-1-dp-edid.bin,HDMI-A-2:edid/HDMI-A-1-dp-edid.bin
</span><span style="color:#65737e;"># HDMI-A-1ï¼šç›®æ ‡è¿æ¥å™¨åï¼ˆå¿…é¡»ä¸ /sys/class/drm/ ä¸‹çš„åç§°ä¸€è‡´ï¼‰
</span><span style="color:#65737e;"># edid/hdmi-edid.binï¼šç›¸å¯¹äº /lib/firmware/ çš„è·¯å¾„
</span><span style="color:#65737e;"># ğŸ’¡ ä½ æœ‰ä¸¤ä¸ª HDMIï¼ˆHDMI-A-1, HDMI-A-2ï¼‰ï¼Œé€‰ä¸€ä¸ªæœªä½¿ç”¨çš„ï¼ˆå¦‚ HDMI-A-2ï¼‰é¿å…å†²çª
</span><span style="color:#bf616a;">sudo</span><span> update-grub
</span><span>
</span><span style="color:#bf616a;">dmesg </span><span>| </span><span style="color:#bf616a;">grep -E </span><span>&quot;</span><span style="color:#a3be8c;">edid|drm_kms_helper|HDMI-A-2</span><span>&quot;
</span><span style="color:#bf616a;">lsinitramfs</span><span> /boot/initrd.img-$(</span><span style="color:#bf616a;">uname -r</span><span>) | </span><span style="color:#bf616a;">grep</span><span> hdmi-edid.bin || </span><span style="color:#bf616a;">true
</span><span style="color:#bf616a;">sudo</span><span> update-initramfs</span><span style="color:#bf616a;"> -u -k</span><span> all
</span><span style="color:#bf616a;">sudo</span><span> update-initramfs</span><span style="color:#bf616a;"> -u -k </span><span>$(</span><span style="color:#bf616a;">uname -r</span><span>)
</span><span>
</span><span style="color:#65737e;"># !!!!! 5.12 ä»¥ä¸Šçš„å†…æ ¸ï¼Œå‚æ•°å·²ç»å˜ä¸ºäº†drm.edid_firmware
</span><span style="color:#bf616a;">drm.edid_firmware</span><span>=</span><span style="color:#a3be8c;">HDMI-A-2:edid/hdmi-edid.bin </span><span style="color:#bf616a;">video</span><span>=</span><span style="color:#a3be8c;">HDMI-A-2:2560x1440@120e
</span></code></pre>
<h2 id="pai-cha-wei-shen-me-fen-bian-lu-da-bu-dao-edidzhong-de-pei-zhi">æ’æŸ¥ä¸ºä»€ä¹ˆåˆ†è¾¨ç‡è¾¾ä¸åˆ°edidä¸­çš„é…ç½®</h2>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># å®‰è£…å·¥å…·
</span><span style="color:#bf616a;">sudo</span><span> apt install libdrm-tests
</span><span style="color:#65737e;"># åˆ—å‡ºæ‰€æœ‰ connector åŠ mode
</span><span style="color:#bf616a;">sudo</span><span> modetest</span><span style="color:#bf616a;"> -M</span><span> i915 | </span><span style="color:#bf616a;">grep -A</span><span> 20 &quot;</span><span style="color:#a3be8c;">HDMI-A-2</span><span>&quot;
</span><span>
</span><span style="color:#65737e;"># ä½ çš„ EDID ä¸­ DTD æœªè®¾ preferred bit â†’ GNOME å¯èƒ½å¿½ç•¥å®ƒã€‚
</span><span style="color:#bf616a;">git</span><span> clone https://github.com/akatrevorjay/edid-generator
</span><span style="color:#96b5b4;">cd</span><span> edid-generator
</span><span style="color:#65737e;"># å…³é”®ï¼šåŠ  --preferred å’Œ --cvt-rb
</span><span style="color:#bf616a;">./edid-generator.py </span><span>\
</span><span style="color:#bf616a;">  --name </span><span>&quot;</span><span style="color:#a3be8c;">VIRT-2K</span><span>&quot; \
</span><span style="color:#bf616a;">  --width</span><span> 2560</span><span style="color:#bf616a;"> --height</span><span> 1440</span><span style="color:#bf616a;"> --refresh</span><span> 120 \
</span><span style="color:#bf616a;">  --timing </span><span>&quot;</span><span style="color:#a3be8c;">2560 2608 2640 2720 1440 1443 1448 1545 +hsync -vsync</span><span>&quot; \
</span><span style="color:#bf616a;">  --cvt-rb </span><span style="color:#96b5b4;">\          </span><span style="color:#65737e;"># ä½¿ç”¨ reduced blankingï¼ˆæ›´çœå¸¦å®½ï¼‰
</span><span>  </span><span style="color:#bf616a;">--preferred </span><span style="color:#96b5b4;">\       </span><span style="color:#65737e;"># è®¾ä¸º preferred timingï¼
</span><span>  </span><span style="color:#bf616a;">--output</span><span> /lib/firmware/edid/hdmi-edid.bin
</span><span style="color:#bf616a;">sudo</span><span> update-initramfs</span><span style="color:#bf616a;"> -u
</span><span style="color:#65737e;"># --preferred è®© DRM/GNOME ä¼˜å…ˆé€‰ç”¨è¯¥ mode
</span><span style="color:#65737e;"># --cvt-rb é™ä½ pixel clockï¼ˆä» 497.75 â†’ ~399 MHzï¼‰ï¼Œæé«˜å…¼å®¹æ€§
</span></code></pre>
<h3 id="fireware-mei-you-bei-da-bao-jin-initrdzhong">fireware æ²¡æœ‰è¢«æ‰“åŒ…é‡‘initrdä¸­</h3>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">sudo</span><span> tee /etc/initramfs-tools/hooks/zzz_edid_inject &lt;&lt;&#39;</span><span style="color:#b48ead;">EOF</span><span>&#39;
</span><span style="color:#a3be8c;">#!/bin/sh
</span><span style="color:#a3be8c;">PREREQ=&quot;&quot;
</span><span style="color:#a3be8c;">prereqs() { echo &quot;$PREREQ&quot;; }
</span><span style="color:#a3be8c;">case &quot;$1&quot; in
</span><span style="color:#a3be8c;">    prereqs) prereqs; exit 0 ;;
</span><span style="color:#a3be8c;">esac
</span><span style="color:#a3be8c;">. /usr/share/initramfs-tools/hook-functions
</span><span style="color:#a3be8c;">
</span><span style="color:#a3be8c;"># åˆ›å»º firmware ç›®å½•ï¼ˆinitramfs ä¸­è·¯å¾„æ˜¯ lib/firmware/...ï¼‰
</span><span style="color:#a3be8c;">mkdir -p &quot;${DESTDIR}/lib/firmware/edid&quot;
</span><span style="color:#a3be8c;"># å¤åˆ¶æ–‡ä»¶ï¼ˆå¿…é¡»ç”¨ copy_fileï¼Œä¸æ˜¯ cpï¼ï¼‰
</span><span style="color:#a3be8c;">copy_file /lib/firmware/edid/hdmi-edid.bin /lib/firmware/edid/hdmi-edid.bin
</span><span style="color:#b48ead;">EOF
</span><span style="color:#65737e;"># èµ‹äºˆæ‰§è¡Œæƒé™ï¼ˆå¿…é¡»ï¼ï¼‰
</span><span style="color:#bf616a;">sudo</span><span> chmod +x /etc/initramfs-tools/hooks/zzz_edid_inject
</span><span>
</span><span style="color:#bf616a;">sudo</span><span> update-initramfs</span><span style="color:#bf616a;"> -c -k </span><span>$(</span><span style="color:#bf616a;">uname -r</span><span>)
</span><span style="color:#bf616a;">lsinitramfs</span><span> /boot/initrd.img-$(</span><span style="color:#bf616a;">uname -r</span><span>) | </span><span style="color:#bf616a;">grep -i </span><span>&#39;</span><span style="color:#a3be8c;">edid/hdmi-edid</span><span>&#39;
</span><span>
</span><span style="color:#65737e;"># æ‰‹åŠ¨è§£å‹éªŒè¯
</span><span style="color:#bf616a;">mkdir</span><span> /tmp/initrd &amp;&amp; </span><span style="color:#96b5b4;">cd</span><span> /tmp/initrd
</span><span style="color:#bf616a;">zcat</span><span> /boot/initrd.img-$(</span><span style="color:#bf616a;">uname -r</span><span>) | </span><span style="color:#bf616a;">cpio -id </span><span style="color:#d08770;">2</span><span>&gt;/dev/null
</span><span style="color:#bf616a;">find</span><span> .</span><span style="color:#bf616a;"> -name </span><span>&quot;</span><span style="color:#a3be8c;">*hdmi-edid*</span><span>&quot;</span><span style="color:#bf616a;"> -type</span><span> f
</span></code></pre>
<h2 id="edid-firmware-he-video-can-shu-han-yi">edid_firmware å’Œvideo å‚æ•°å«ä¹‰</h2>
<p>è¿™ä¸¤ä¸ªå†…æ ¸å‚æ•°æ˜¯ç‹¬ç«‹çš„ï¼Œå¹¶ä¸”ç”¨äºä¸åŒçš„ç›®çš„ï¼Œä½†éƒ½ä¸æ˜¾ç¤ºå™¨çš„é…ç½®æœ‰å…³ã€‚</p>
<ul>
<li>drm_kms_helper.edid_firmware=...
<ul>
<li>æ¬ºéª—å†…æ ¸ï¼šå¼ºåˆ¶åŠ è½½ä¸€ä¸ªç‰¹å®šçš„ EDID æ–‡ä»¶æ¥å®šä¹‰æ˜¾ç¤ºå™¨çš„åŠŸèƒ½ï¼ˆå¦‚æ”¯æŒçš„åˆ†è¾¨ç‡ã€è‰²å½©ç©ºé—´ç­‰ï¼‰ã€‚</li>
<li>ç‹¬ç«‹äº video å‚æ•°ã€‚ç”¨äºæ¨¡æ‹Ÿç¡¬ä»¶æŠ¥å‘Šçš„åŠŸèƒ½ã€‚</li>
<li>è§£å†³æ˜¾ç¤ºå™¨ EDID æŠ¥å‘Šé”™è¯¯ã€æ¨¡æ‹Ÿ 4K åˆ†è¾¨ç‡æˆ–æ¨¡æ‹Ÿç‰¹å®šæ˜¾ç¤ºå™¨åŠŸèƒ½ã€‚</li>
</ul>
</li>
<li>video=...
<ul>
<li>å¼ºåˆ¶è¾“å‡ºï¼šå¼ºåˆ¶æ¿€æ´»ä¸€ä¸ªç‰¹å®šçš„è¿æ¥å™¨ï¼ˆConnectorï¼‰å¹¶è®¾ç½®å…¶æ¨¡å¼ï¼ˆåˆ†è¾¨ç‡å’Œåˆ·æ–°ç‡ï¼‰ã€‚</li>
<li>ç‹¬ç«‹äº edid_firmware å‚æ•°ã€‚ç”¨äºå¼ºåˆ¶ä½¿èƒ½è¾“å‡ºã€‚</li>
<li>è§£å†³æ— å¤´ï¼ˆheadlessï¼‰ç³»ç»Ÿæ— æ³•è¯†åˆ«æ˜¾ç¤ºå™¨ã€å¼ºåˆ¶å¯ç”¨ä¼‘çœ åæœªæ¢å¤çš„æ¥å£ã€‚</li>
</ul>
</li>
<li>å®ƒä»¬æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚æ‚¨å¯ä»¥å•ç‹¬ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªï¼Œä¹Ÿå¯ä»¥åŒæ—¶ä½¿ç”¨ã€‚</li>
<li>å¦‚æœæ‚¨åªæ˜¯æƒ³å¯åŠ¨ä¸€ä¸ªè™šæ‹Ÿæ˜¾ç¤ºå™¨ï¼š ä»…ä½¿ç”¨ video=HDMI-A-2:1920x1080@60e é€šå¸¸å°±è¶³å¤Ÿäº†ã€‚</li>
<li>å¦‚æœæ‚¨éœ€è¦æ›´å¤æ‚çš„æ˜¾ç¤ºå™¨åŠŸèƒ½æ¨¡æ‹Ÿï¼š æ‚¨å¯èƒ½éœ€è¦åŒæ—¶ä½¿ç”¨è¿™ä¸¤ä¸ªå‚æ•°ã€‚</li>
</ul>
<h3 id="can-shu-ming-cheng">å‚æ•°åç§°</h3>
<ul>
<li>
<p>è¿™é‡Œçš„ HDMI-A-2 å¿…é¡»ä¸æ‚¨çš„ Linux ç³»ç»Ÿåœ¨ /sys/class/drm/*/status ä¸­æŠ¥å‘Šçš„é€»è¾‘æ¥å£åç§°å®Œå…¨ä¸€è‡´ã€‚</p>
</li>
<li>
<p>é€»è¾‘åç§° (HDMI-A-1, HDMI-A-2) ä¸ä¸€å®šå¯¹åº”æ‚¨çš„æ˜¾å¡èƒŒåçš„ç‰©ç†æ’æ§½ç¼–å·ã€‚å®ƒåªæ˜¯ GPU é©±åŠ¨ç¨‹åºæŠ¥å‘Šçš„å†…éƒ¨é€šé“åç§°ã€‚
æ°‘ç”¨ä¸»æ¿ä¸€èˆ¬ä¸ä¼šå°†æ‰€æœ‰çš„é€»è¾‘æ¥å£éƒ½é…ç½®ç‰©ç†æ¥å£(æˆæœ¬è€ƒè™‘)</p>
</li>
<li>
<p>å¦‚æœç›®æ ‡æ˜¯æ¨¡æ‹Ÿä¸€ä¸ªè™šæ‹Ÿæ˜¾ç¤ºå™¨ï¼ˆæ— å¤´æ¨¡å¼ï¼‰ï¼š æ‚¨åº”è¯¥é€‰æ‹©ä¸€ä¸ª å½“å‰æ²¡æœ‰ç‰©ç†æ˜¾ç¤ºå™¨è¿æ¥ ä¸” çŠ¶æ€æ˜¾ç¤ºä¸º disconnected çš„æ¥å£åç§°ï¼ˆä¾‹å¦‚ HDMI-A-2ï¼‰ã€‚è¿™æ ·ï¼Œå†…æ ¸å°±ä¼šè®¤ä¸ºæ‚¨æœ‰ä¸€ä¸ªæ˜¾ç¤ºå™¨è¿æ¥åœ¨ HDMI-A-2 ä¸Šï¼Œå¹¶ä½¿ç”¨æ‚¨æŒ‡å®šçš„å‚æ•°ã€‚</p>
</li>
<li>
<p>å¦‚æœç›®æ ‡æ˜¯ä¿®å¤ä¸€ä¸ªå·²è¿æ¥çš„æ˜¾ç¤ºå™¨çš„é—®é¢˜ï¼š æ‚¨åº”è¯¥é€‰æ‹©è¯¥æ˜¾ç¤ºå™¨å®é™…è¿æ¥çš„ã€çŠ¶æ€æ˜¾ç¤ºä¸º connected çš„é‚£ä¸ªæ¥å£åç§°ï¼ˆä¾‹å¦‚ HDMI-A-1ï¼‰ã€‚</p>
</li>
<li>
<p>video=HDMI-A-2:1920x1080@60e</p>
<ul>
<li>video=ï¼š å‘Šè¯‰å†…æ ¸åŠ è½½è§†é¢‘æ¨¡å¼ã€‚</li>
<li>HDMI-A-2ï¼š ç›®æ ‡è¿æ¥å™¨åç§°ã€‚</li>
<li>1920x1080ï¼š è¦è®¾ç½®çš„åˆ†è¾¨ç‡ã€‚</li>
<li>@60ï¼š è¦è®¾ç½®çš„åˆ·æ–°ç‡ï¼ˆ60 Hzï¼‰ã€‚</li>
<li>e (å¯é€‰)ï¼š é‡è¦ï¼Œè¡¨ç¤º å¼ºåˆ¶å¯ç”¨ (enable)ã€‚å½“è¿æ¥å™¨å¤„äº disconnected çŠ¶æ€æ—¶ï¼Œæ·»åŠ  e å¯ä»¥å¼ºåˆ¶é©±åŠ¨ç¨‹åºå°è¯•å¯ç”¨å®ƒï¼Œéå¸¸é€‚åˆæ„é€ è™šæ‹Ÿæ˜¾ç¤ºå™¨ã€‚</li>
</ul>
</li>
<li>
<p>drm_kms_helper.edid_firmware=HDMI-A-2:edid/1920x1080.bin</p>
<ul>
<li>drm_kms_helper.edid_firmware=ï¼š å‘Šè¯‰å†…æ ¸è¦†ç›– EDID æŠ¥å‘Šã€‚</li>
<li>HDMI-A-2ï¼š ç›®æ ‡è¿æ¥å™¨åç§°ã€‚</li>
<li>edid/1920x1080.binï¼š EDID æ–‡ä»¶è·¯å¾„ã€‚æ‚¨éœ€è¦æ‰‹åŠ¨å°†ä¸€ä¸ªæœ‰æ•ˆçš„ EDID äºŒè¿›åˆ¶æ–‡ä»¶æ”¾ç½®åœ¨ /lib/firmware/edid/ ç›®å½•ä¸‹ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä»ä¸€å°å·¥ä½œæ­£å¸¸çš„æ˜¾ç¤ºå™¨ä¸Šè·å– EDIDï¼Œæˆ–è€…ä½¿ç”¨å·¥å…·ç”Ÿæˆä¸€ä¸ªã€‚</li>
</ul>
</li>
</ul>
<h3 id="yi-lai-guan-xi">ä¾èµ–å…³ç³»</h3>
<ul>
<li>drm_kms_helper.edid_firmware=HDMI-A-2:edid/xxx.bin
<ul>
<li>é˜¶æ®µ1ï¼šè¿æ¥å™¨æ¢æµ‹, å°†æŒ‡å®š EDID,æ³¨å…¥åˆ°è¿æ¥å™¨çš„ edid æ–‡ä»¶ä¸­ï¼Œä½¿å†…æ ¸è®¤ä¸ºâ€œæ­¤æ¥å£æ¥äº†æ˜¾ç¤ºå™¨â€</li>
<li>âŒ ä¸ä¾èµ– video= ï¼›å³ä½¿æ²¡ video=ï¼Œ/sys/class/drm/card0-HDMI-A-2/status ä¹Ÿä¼šå˜æˆ connected</li>
</ul>
</li>
<li>video=HDMI-A-2:1920x1080@60
<ul>
<li>é˜¶æ®µ2ï¼šæ¨¡å¼è®¾ç½®,å¼ºåˆ¶æ¿€æ´»è¯¥è¿æ¥å™¨çš„ç‰¹å®šæ˜¾ç¤ºæ¨¡å¼,ï¼ˆå³ä½¿ EDID ä¸­æ²¡æœ‰æ­¤æ¨¡å¼ï¼‰</li>
<li>âœ… ä¾èµ–è¿æ¥å™¨ connectedï¼ˆå¦åˆ™æ— æ•ˆï¼‰</li>
</ul>
</li>
</ul>
<h1 id="zi-ding-yi-edid-sheng-cheng">è‡ªå®šä¹‰ EDID ç”Ÿæˆ</h1>
<h2 id="fang-fa-yong-cvt-parse-edid-edid-generator">æ–¹æ³•ï¼šç”¨ cvt + parse-edid + edid-generator</h2>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">cvt</span><span> 2540 1440 120
</span><span style="color:#65737e;"># è¾“å‡ºç±»ä¼¼ï¼š
</span><span style="color:#65737e;"># Modeline &quot;2540x1440_120.00&quot;  852.75  2540 2728 2992 3472  1440 1443 1453 1538 -hsync +vsync
</span></code></pre>
<p>ç”¨å·¥å…·ç”Ÿæˆ EDIDï¼š
æ¨èå·¥å…·ï¼šhttps://github.com/akatrevorjay/edid-generator</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">git</span><span> clone https://github.com/akatrevorjay/edid-generator
</span><span style="color:#96b5b4;">cd</span><span> edid-generator
</span><span style="color:#bf616a;">./edid-generator.py --name </span><span>&quot;</span><span style="color:#a3be8c;">VIRT-MON</span><span>&quot;</span><span style="color:#bf616a;"> --width</span><span> 2540</span><span style="color:#bf616a;"> --height</span><span> 1440</span><span style="color:#bf616a;"> --refresh</span><span> 120</span><span style="color:#bf616a;"> --timing </span><span>&quot;</span><span style="color:#a3be8c;">2540 2728 2992 3472 1440 1443 1453 1538 +hsync +vsync</span><span>&quot;</span><span style="color:#bf616a;"> --output</span><span> hdmi-edid.bin
</span><span>
</span><span style="color:#65737e;"># éªŒè¯ï¼š
</span><span style="color:#bf616a;">edid-decode</span><span> hdmi-edid.bin | </span><span style="color:#bf616a;">grep -A5 </span><span>&quot;</span><span style="color:#a3be8c;">Detailed</span><span>&quot;
</span></code></pre>
</section>
  <hr />
  <!-- Post Taxonomies -->
<footer class="mt-12 flex flex-col" tabindex="-1" accesskey="_">
  <div class="mb-2 flex flex-wrap">
    <span class="block-bg mb-1.5 mr-1.5 rounded-lg px-5 py-1.5">Tags</span>
    
    <a
      class="block-bg block-hover mb-1.5 mr-1.5 rounded-lg px-5 py-1.5 no-underline"
      href="https://blog.moxuetianya.com/tags/edid/">edid</a>
    
  </div>
</footer>

  <!-- Post Nav -->
<nav class="block-bg mt-12 flex flex-wrap rounded-lg text-lg">
  <a
    class="block-hover-mask flex min-w-[50%] grow items-center rounded-l-md p-6 pr-3 font-semibold no-underline"
    href="https://blog.moxuetianya.com/2025/11/systemd-networkd-wait-onlineé˜»å¡é—®é¢˜è§£å†³æ–¹æ¡ˆ/" accesskey=","
    ><span class="mr-1.5">&#8249;</span><span>systemd-networkd-wait-onlineé˜»å¡é—®é¢˜è§£å†³æ–¹æ¡ˆ</span></a>
  <a
    class="block-hover-mask ml-auto flex min-w-[50%] grow items-center justify-end rounded-r-md p-6 pl-3 font-semibold no-underline"
    href="https://blog.moxuetianya.com/2025/11/apparmorè°ƒè¯• å¯åŠ¨è™šæ‹Ÿæœºå¤±è´¥æ’æŸ¥/" accesskey="."
    ><span>apparmorè°ƒè¯• å¯åŠ¨è™šæ‹Ÿæœºå¤±è´¥æ’æŸ¥</span><span class="ml-1.5">&#8250;</span></a>
</nav>

  <!-- Begin Page End inject -->
  
  <!-- End Page End inject -->
</article>

  </main>
  <!-- Footer -->
<footer class="mx-auto flex lg:mt-5 max-w-3xl flex-wrap items-center px-4 py-3 text-sm opacity-60">
  <div class="mr-auto basis-full lg:basis-1/2">
  Â© <time datetime="2025">2025</time> moxuetianya
  </div>
  <div class="flex basis-full lg:basis-1/2 lg:justify-end">
    <span class="mr-6 lg:ml-6">
      <a class="link" href="https://www.getzola.org/" target="_blank">Powered by Zola</a>
    </span>
    <a class="link" href="https://www.getzola.org/themes/linkita/" target="_blank">&#9998; Linkita</a>
  </div>
  <!-- Begin Footer inject -->
  
  <!-- End Footer inject -->
</footer>

  

  <!-- Begin Body End inject -->
  
  <!-- End Body End inject -->
</body>

</html>
